\documentclass{article}

\usepackage{../../header}
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%Preamble

\title{Algebraic Geometry and Riemann Surfaces}
\author{Linden Disney-Hogg}
\date{October 2020}

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\begin{document}

\maketitle
\tableofcontents

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\section{Introduction}
The purpose of this document is to provide a central, searchable, version of the sum of my knowledge on algebraic geometry and Riemann surfaces. I will try and include more modern perspectives using category theory ideas as well as other more historical perspectives. \\
An incomplete list of the sources for this document are:
\begin{itemize}
	\item \textit{Principles of Algebraic Geometry} (Griffiths)
	\item \textit{Algebraic Geometry} (Milne)
\end{itemize}
I will also endeavour to number equations and results, and reference them when I use them. \\
The notes on elliptic functions and curves come from:
\begin{itemize}
	\item \textit{Elliptic Funcations and Applications} (Lawden)
	\item \textit{Elliptic Curves} (McKean, Moll) 
	\item often wikipedia
	\item nlab
	\item \textit{Algebraic Curves and Riemann Surfaces} (Miranda)
	\item \textit{Arithmetic of Elliptic Curves} (Silverman)
	\item The Digital Library of Mathematical Functions (\href{dlmf.nist.gov}{dlmf.nist.gov})
\end{itemize} 
and are available in a rearranged form in my \textit{Elliptic.pdf} notes. 
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\part{The Introductory Material}
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\section{Groups, Rings, and Modules}

This section will be largely stating definitions and results for concreteness. 
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\subsection{Groups}

\begin{definition}
	The \bam{modular group} is 
	\eq{
		\Gamma = PSL(2,\mbb{Z}) = \faktor{SL(2,\mbb{Z})}{\pbrace{\pm I}}	
	}
It is alternatively given as the group of fractional linear transforms 
\eq{
z \mapsto \frac{az+b}{cz+d}
}
s.t. $a,b,c,d \in \mbb{Z}, \, ad-bc=1$. 
\end{definition}

\begin{lemma}
	The modular group is generated by the transforms $s(z) = -1/z, \, t(z) = z+1$. This gives it the presentation 
	\eq{
\Gamma \cong \pangle{s,t \, | \, s^2 = \id = (st)^3}	
}
\end{lemma}

\begin{definition}
	The \bam{congruence subgroups} of $\Gamma$ are, for $N \in \mbb{Z}$, 
	\eq{
		\Gamma(N) = \pbrace{M \in \Gamma \, | \, M \equiv I \, (mod\,  N)}
	}
\end{definition} 
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\subsection{Rings}

\begin{definition}
	Elements of a ring $R$ with a multiplicative inverse are called \bam{units}. Denote the group of units as $R^\times$. 
\end{definition}


\begin{definition}
	An \bam{ideal} of a ring $R$ is an additive subgroup $I$ s.t. $\forall r \in R, \, x \in X,\, rx \in I$. 
\end{definition}

\begin{definition}
	An ideal $I$ is called \bam{principal} if $\exists a \in R$ s.t. $I = (a)$.  
\end{definition}

\begin{definition}
	A ring $R$ is an \bam{integral domain} if it is not zero and $ab=0 \Rightarrow a=0$ or $b=0$. 
\end{definition}

\begin{definition}
	Let $R$ be an integral domain. Then $r\in R$ is \bam{irreducible} if
	\begin{itemize}
		\item $r \neq 0$
		\item $r$ not a unit
		\item $r=st \Rightarrow s$ or $t$ a unit
	\end{itemize}
\end{definition}

\begin{definition}
	$R$ an integral domain is called a \bam{Unique Factorisation Domain (UFD)} if every non-zero non-unit can be written as a finite product of irreducible elements uniquely up to units and reordering. 
\end{definition}

\begin{definition}
	An integral domain is a \bam{Principal Ideal Domain (PID)} if every ideal is principal. 
\end{definition}

\begin{prop}
	Every PID is a UFD
\end{prop}

\begin{prop}$R$ a UFD $\Rightarrow$ $R[X]$ a UFD. 
\end{prop}

\begin{notation}
	We denote the ring of holomorphic functions on a neighbourhood of $z \in \mbb{C}^n$ as $\mc{O}_{n,z}$. We let $\mc{O}_n = \mc{O}_{n,0}$.
\end{notation}

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\subsection{Modules}
\begin{definition}
	Given $R$-modules $M,N$ we define the \bam{tensor product} $T= M \otimes_R N$ with $R$-bilinear map $\phi:M\times N \to T$ by the universal property
	\begin{tkz}
		M\times N \arrow[r,"\phi"] \arrow[dr,"\phi^\prime"'] & T \arrow[d,"\exists !", dashed]\\ & T^\prime  
	\end{tkz}
\end{definition}

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\subsection{Field extensions}
\begin{definition}
	A \bam{field extension} if a pair of fields $K \subseteq L$ s.t. the operations of $K$ are those of the restriction of $L$. It is denoted $L / K$
\end{definition}

\begin{example}
	The set 
	\eq{
		\mbb{Q}(\sqrt{2}) = \pbrace{a+b\sqrt{2} \, | \, a,b \in \mbb{Q}}	
	}
	is a field extension of $\mbb{Q}$. 
\end{example}

\begin{prop}
	If $L/K$ is a field extension, $L$ is a $K$-vector space. 
\end{prop}

\begin{definition}
	The \bam{degree} of a field extension $L/K$ is the dimension of $L$ as a $K$-vector space. It is denoted $[L:K]$.
\end{definition}

\begin{example}
	$[\mbb{Q}(\sqrt{2}):\mbb{Q}] = 2$ as it has basis $\pbrace{1,\sqrt{2}}$
\end{example}

\begin{definition}
	The \bam{transcendence degree} of a field extension $L/K$ is the maximum cardinality of an algebraic independent subset of $L$ over $K$. 
\end{definition}

\begin{example}
	$\mbb{Q}(\sqrt{2},e)/\mbb{Q}$ has transcendence degree 1.
\end{example}

\hl{replace these examples with more C oriented ones. }
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\section{Complex Analysis}
This section should roughly contain the results you would prove in an undergraduate course in complex methods or complex analysis. For the most part these will be presented without proof, unless I believe that the proof adds to the knowledge somehow. 

\hl{Work on this as it becomes necessary}

We start by considering coordinates on $\mbb{C}$. Viewing $\mbb{C}\cong \mbb{R}^2$ we have either 
\eq{
z = x+iy, \, \bar{z} = x-iy \, \text{ or } \,  x = \frac{z+\bar{z}}{2}, \, y  = \frac{z-\bar{z}}{2i}
}
The corresponding derivatives are related by 
\eq{
\pd{z} = \frac{1}{2} \pround{\pd{x} -i \pd{y}}, \;  \pd{\bar{z}} = \frac{1}{2} \pround{\pd{x} + i \pd{y}}
}

\subsection{Fixing definitions}
I will fix some notation with a definition:
\begin{definition}
	Denote the \bam{Upper Half Plane (UHP)} in $\mbb{C}$ as 
	\eq{
		H = \pbrace{z \in \mbb{C} \, | \, \Im z > 0}	
	}
\end{definition}

The UHP will end up being a special case of the more general \bam{Siegel upper half space} later (\hl{ref this}). It will serve as a classifying space later in conjunction with the modular group. 

\subsection{Mobius Transformations}
Recall that for any distinct $z_1, z_2, z_3 \in \mbb{C}$ we have a Mobius transform that sends them to $0,1,\infty$ given by 
\eq{
	f(z) = \frac{z-z_1}{z-z_3}\frac{z_2 - z_3}{z_2 - z_1}
}
\begin{definition}
	Given distinct $z_0, z_1, z_2, z_3 \in \mbb{C}$ the \bam{cross ratio} is 
	\eq{
		\frac{z_0-z_1}{z_0-z_3}\frac{z_2 - z_3}{z_2 - z_1}
	}
\end{definition}

\begin{prop}
	Distinct $z_0, z_1, z_2, z_3 \in \mbb{C}$ lie on a circline iff their cross-ratio is real. 
\end{prop}

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\subsection{Integral Theorems}

A corollary to Cauchy's integral formula is the following:

\begin{theorem}[Liouville]
	A bounded entire function $f:\mbb{C} \to \mbb{C}$ is constant. 
\end{theorem}
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\subsection{Analytic Varieties}

\begin{definition}
	Given $U \subset \mbb{C}^n$ and open subset, $V \subset U$ is an \bam{analytic variety} if $\forall p \in U, \, \exists U_p$ an open neighbourhood s.t. 
	\eq{
V \cap U_p = \pbrace{f_1 = \dots = f_k = 0}	
}
where $f_i : \mbb{C}^n \to \mbb{C}$ are holomorphic functions. 
\end{definition}

\begin{definition}
	An analytic variety $V \subset U$ is \bam{irreducible} if $\nexists V_1, V_2 \subset U$, $V_i \neq V$, s.t. $V = V_1 \cup V_2$. $V$ is \bam{irreducible at $p \in V$} if $\exists U^\prime$ a neighbourhood of $p$ s.t. $V\cap U^\prime$ is irreducible  
\end{definition}

\begin{prop}
	If $f \in \mc{O}_n$ is irreducible then the variety defined by the zero locus of $f$ is irreducible at 0.
\end{prop}

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\section{Category Theory}
Here we will cover the basic category theory required to be able to provide a slightly general formalism to many of the concepts in topology. 

\begin{definition}
	A \bam{Category} $\mc{C}$ is a collection of objects $\text{Obj}\mc{C}$ s.t $\forall A,B \in  \text{Obj}\mc{C}$ (for simplicity we will often write $A,B \in \mc{C}$) there is a set of morphisms $\Hom(A,B)$ under the conditions
	\begin{itemize}
		\item $\forall f \in \Hom(A,B), \, g \in \Hom(B,C), \, \exists g \circ f \in \Hom(A,C)$
		\item the composition $\circ$ is associative with identity $1_A \in \Hom(A,A)$
	\end{itemize}
\end{definition}

\begin{example}
	The collection of sets, with morphisms given by functions, is a category $\text{Set}$
\end{example}

\begin{example}
	There is a category whose objects are Euclidean spaces $\pbrace{\mbb{R}^n}$, and whose morphisms are smooth maps. It is denoted $\text{CartSp}_{\text{smooth}}$
\end{example}

\begin{example}
	The category of differential commutative-graded algebras (DGCAs) with homomorphisms for morphisms exists. Recall a graded algebra $A$ has a map $\deg : A \to \mbb{Z}$, and to be graded-commutative means 
	\eq{
		\forall a,b \in A, \, ab = (-1)^{\deg(a) \deg(b)}ba	
	}
	The differential means we have a map $d:A \to A$ s.t. 
	\eq{
		d(ab) = (da)b + (-1)^{\deg(a)}a(db)
	}
	and $d$ is compatible with the grading.
\end{example}

\begin{definition}
	A \bam{covariant functor} is a map between categories $F: \mc{C} \to \mc{D}$ in the sense that for $A \in \mc{C}, \, F(A) \in \mc{D}$, and $f \in \Hom(A,B)$ for $A,B \in \mc{C}$ gives $F(f) \in \Hom(F(A), F(B))$ obeying 
	\begin{itemize}
		\item $F(g \circ f) = F(g) \circ ~F(f)$ 
		\item $F(1_A) = 1_{F(a)}$
	\end{itemize}
	A \bam{contravariant functor} is a map $F:\mc{C} \to \mc{D}$ s.t. for $f \in \Hom(A,B), \, F(f) \in \Hom(F(B),F(A))$
\end{definition}

\begin{example}
	Given a category $\mc{C}$ and $A \in \mc{C}$, the map $h^A :\mc{C} \to \text{Set}$ given by 
	\begin{itemize}
		\item for $X \in \mc{C}, \, h^A(X) = \Hom(A,X)$
		\item for $f \in \Hom(X,Y), \, h^A(f):\Hom(A,X) \to \Hom(A,Y)$ as 
		\eq{
			h^A(f)(g) = f \circ g	
		} 
	\end{itemize}
	is a covariant functor called the \bam{hom functor}. There is a corresponding contravariant functor $h_A$ given by $h_A(X) = \Hom(X,A)$.
\end{example}

\begin{definition}
	If $F,G$ are functors $\mc{C} \to \mc{D}$ then a \bam{natural transformation} from $F$ to $G$ is a family of morphisms s.t. 
	\begin{itemize}
		\item $\forall X \in \mc{C}$ and object $\exists \eta_X \in \Hom_{\mc{D}}(F(X),G(X))$ (called a component)
		\item $\forall X,Y \in \mc{C}, \, f \in \Hom_{\mc{C}}(X,Y)$
		\eq{
			\eta_Y \circ F(f) = G(f) \circ \eta_X	
		}
		i.e. the diagram 
		\begin{tkz}
			F(X) \arrow[r,"\eta_X"] \arrow[d,"F(Y)"'] & G(X) \arrow[d,"G(f)"] \\
			F(Y) \arrow[r,"\eta_Y"'] & G(Y)
		\end{tkz}
		commutes (this was drawn for a covariant functor, but a similar diagram can be drawn for contravariant ones). The set of all natural transformations $F \to G$ is notated as $\Nat(F,G)$. A natural transformation for which all components are isomorphisms is called a \bam{natural isomorphism}.
	\end{itemize}
\end{definition}

\begin{definition}
	A functor $F:\mc{C} \to \text{Set}$ is \bam{representable} if $\exists A \in \mc{C}$ s.t. $F$ is naturally isomorphic to $h^A$.
\end{definition}

\begin{lemma}[Yoneda Lemma]
	Given a category $\mc{C}$ and a covariant functor $F:\mc{C} \to \text{Set}$ for each $A \in \mc{C}$ we have an isomorphism 
	\eq{
		\Nat(h^A,F) \cong F(A)
	}
	A special case is when $F = h^B$ for $B \in \mc{C}$ and 
	\eq{
		\Nat(h^A,h^B) \cong \Hom(B,A)
	}
	The analogue exists if $F$ is contravariant which says 
	\eq{
		\Nat(h_A,F) \cong F(A)
	}
\end{lemma}

\begin{definition}
	Given objects $X,Y,Z$ and two morphisms $f:X\to Z, \, g:Y \to Z$, the \bam{pullback} of the morphisms is an object $P$ with morphisms $p_1:P \to X, \, p_2 :P \to Y$ s.t. the diagram
	\begin{tkz}
		P \arrow[r,"p_2"] \arrow[d,"p_1"'] & Y \arrow[d,"g"] \\
		X \arrow[r,"f"'] & Z
	\end{tkz} 
	commutes, and moreover that the pullback is universal wrt to this diagram i.e. 
	\begin{tkz}
		Q \arrow[drr,"q_2", bend left=15] \arrow[ddr,"q_1"', bend right=15] \arrow[dr, dashed, "\exists ! u"]& & \\
		& P \arrow[r,"p_2"] \arrow[d,"p_1"'] & Y \arrow[d,"g"] \\
		& X \arrow[r,"f"'] & Z	
	\end{tkz}
	The pullback is often denoted as $P=X \times_Z Y$
\end{definition}

\begin{lemma}[Five Lemma]
	Given a commutative diagram of abelian groups 
	\begin{tkz}
		\dots \arrow[r] & A \arrow[r] \arrow[d,"\alpha"] & B \arrow[r] \arrow[d,"\beta"] & C \arrow[r] \arrow[d,"\gamma"] & D \arrow[r] \arrow[d,"\delta"] & E \arrow[r] \arrow[d,"\eps"] & \dots \\
		\dots \arrow[r] & A^\prime \arrow[r] & B^\prime \arrow[r] & C^\prime \arrow[r] & D^\prime \arrow[r] & E^\prime \arrow[r] & \dots
	\end{tkz}
	where the rows are exact, if $\alpha, \beta, \delta, \eps$ are isomorphisms, then so is $\gamma$. 
\end{lemma}

\begin{definition}
	Given a category $C$, $X,Y \in C$, and $f,g \in \Hom(X,Y)$, the \bam{equalizer} is $E \in C$ with $\text{eq}\in Hom(E,X)$ s.t. the following diagram commutes
	\begin{tkz}
		E \arrow[r,"\text{eq}"] & X \arrow[r,"f",shift left] \arrow[r,"g"',shift right] & Y \\
		O \arrow[u,"\exists ! u",dashed] \arrow[ur,"m"']
	\end{tkz}
\end{definition}

\begin{prop}
	Equalisers are unique up to isomorphism
\end{prop}
\begin{proof}
	If $O=E^\prime$ is another equaliser, then we know we have maps $u,u^\prime$ giving the isomorphism. 
\end{proof}

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\section{Manifolds}
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\subsection{Classification of Bundles}

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\subsubsection{Characteristic Classes}

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\subsubsection{Universal Bundle and Classifying Space}

\begin{prop}
	If $G$ is an abelian group then $\text{Prin}_G(X) \cong H^1(X,G)$. 
\end{prop}
\begin{proof}
	See \href{https://math.colorado.edu/~rohi1040/expository/param_spin.pdf}{here}. Effectively, a choice of bundle is equivalent to a choice of transition maps that obey cocycle transitions, that is a choice of \v{C}ech 1-cocycle, valued in $G$. The abelian-ness of $G$ is required to preserve the group operation.  
\end{proof}

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\subsection{Orientability}
Given a connected $n$-dimensional Riemannian manifold $X$, consider an $O(n)$-bundle $E \to X$. We know examples of such bundles always exist, for example taking the tangent bundle $TX$. 
\begin{definition}
	A manifold is \bam{orientable} if its tangent bundle has a reduction of structure group to an $SO(n)$ bundle. 
\end{definition}

We are about to give a topological condition for orientability, and we will need the following result:

\begin{comment} I think this is wrong. 
\begin{lemma}\label{lemma: 0-Cohomology}
	If $M$ is a manifold with $r$ connected components, $H^0(M,F_2) \cong F_2^{r-1}$
\end{lemma}
\begin{proof}
	Thinking of $H^0$ as global sections, we know that there is a choice of $\pm 1$ for the value of a section on each component. The overall sign of the section doesn't matter, so we have $r-1$ choices of signs. 
\end{proof}
\end{comment}

\begin{prop}
	$X$ is orientable iff $w_1(X)=0$. 
\end{prop}
\begin{proof}
	Let $E$ be the orthonormal frame bundle of the tangent bundle to $X$, and then from the maps $O(n) \to E \to X$ we get the exact sequence of cohomology
	\eq{
0 \to H^0(X,F_2) \to H^0(E,F_2) \to H^0(O(n),F_2) \overset{\delta}{\to} H^1(X,F_2)	
}
\hl{See Lawson p.79 for the rest of this - how does it work?}
\end{proof}

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\subsection{Spin Bundles}
To learn more about spin bundles I recommend reading Besse (\hl{ref}) and Lawson (\hl{ref}), but I will give a brief outline here. 

\begin{definition}
	We define $\text{Spin}_n$ be the non-trivial double cover of $SO(n)$ s.t we have the SES of multiplicative groups 
	\eq{
		1 \to \mbb{Z}_2 \to \text{Spin}_n \overset{\pi}{\to} SO(n) \to 1	
	}
\end{definition}

\begin{example}
	$\text{Spin}_2 = SO(2)$ with the covering map corresponding to squaring when we view $SO(2) \cong U(1)$.
\end{example}

\begin{lemma}
	If $n>2$, $\pi_1(SO(n)) = \mbb{Z}_2$. 
\end{lemma}

\begin{prop}
	When $n>2$, $\text{Spin}_n$ is the universal cover of $SO(n)$. 
\end{prop}

\begin{remark}
	One can ask questions about how the spin group depends on the metric provided. We will not tackle this here. 
\end{remark}

\begin{definition}
	A \bam{spin structure} on $SO(n)$-bundle $P\to X$ is a double cover $Q \to P$ s.t the restriction to each fibre is the double cover $\text{Spin}_n \to SO(n)$. That is that the following diagram commutes
	\begin{tkz}
		Q \times \text{Spin}_n \arrow[r] \arrow[d, twoheadrightarrow] & Q \arrow[d, twoheadrightarrow]\\
		P \times SO(n) \arrow[r] & P
	\end{tkz}
\end{definition}

The existence of such a structure is not guaranteed, but can be given as a simple topological condition. Note that to have an $SO(n)$-bundle, $X$ must already be orientable. 

\begin{prop}
	$X$ has a spin structure iff the second Stiefel-Whitney class $w_2(X)=0$. 
\end{prop}
\begin{proof}
	We have the exact sequence of cohomology
	\eq{
0 \to H^1(X,F_2) \to H^1(P,F_2) \to H^1(SO(n), F_2) \overset{\delta}{\to} H^2(X,F_2)	
}
coming from $SO(n) \to P \to X$, where we have the left 0 because $X$ is orientable. $\text{Prin}_{F_2}(SO(n)) \cong H^1(SO(n),F_2)$, so there is a \hl{non-identity} cohomology class $g \in H^1(SO(n), F_2)$ corresponding to the spin group fibration, and similarly a spin structure corresponds to an element of $H^1(P,F_2)$ which maps to $g$ in $H^1(SO(n),F_2)$. If $H^1(P,F_2)=0$, then $\ker \delta =0$ and so $\delta(g) \neq 0$. Conversely, if $\delta(g) \neq 0$, by exactness $g$ is not in the image of the map, and so there cannot be any double covers compatible with the map $Spin_n \to SO(n)$. $\delta(g)$ is precisely the Stiefel-Whitney class. 
\end{proof}
\begin{corollary}
	If $w_2(X)=0$, the spin structures on $X$ correspond to cosets of $H^1(P,F_2)/H^1(X,F_2)$. 
\end{corollary}
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\section{Complex Manifolds}
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\subsection{Bundles}
We recall a few necessary bundle definitions and results:
\begin{definition}
	The tensor product of vector bundles $E,F \to M$ is $E\otimes F \to M$ s.t. $(E \otimes F)_m = E_m \otimes F_m$ for $m \in M$. 
\end{definition}

\begin{lemma}
	The tensor product on vector bundles is associative and commutative. 
\end{lemma}

\begin{lemma}
	If $O$ is the trivial line bundle then $E\otimes O = E$. 
\end{lemma}

\begin{definition}
	The \bam{dual bundle} of a vector bundle $E \to M$ is $E^\ast \to M$ where the fibres of $E^\ast$ are the dual spaces of the fibres of $E$, with the transition functions $g_{ij}^\ast = \pround{g_{ij}^T}^{-1}$.
\end{definition}

\begin{remark}
	We can check the cocycle condition here as 
	\eq{
		g_{kj}^\ast g_{ji}^ \ast = \pround{g_{kj}^T}^{-1} \pround{g_{ji}^T}^{-1}= \pround{g_{ji}^T g_{kj}^T}^{-1} = \pround{\psquare{g_{kj}g_{ji}}^T}^{-1}=\pround{g_{ki}^T}^{-1} =g_{ki}^\ast	
	}
\end{remark}

\begin{example}
	The dual bundle to the tangent bundle is the cotangent bundle, i.e. $\pround{TM}^\ast = T^\ast M$
\end{example}

\begin{lemma}
	$E \otimes E^\ast \cong \End(E)$. 
\end{lemma}

\begin{lemma}
	Line bundles have tensor inverses, i.e given $L$, $\exists L^{-1}$ s.t. $L \otimes L^{-1} \cong O$ the trivial bundle. 
\end{lemma}
\begin{proof}
	We will show this by showing $L^{-1} = L^\ast$. To trivialise $\End(L)$ we note here the transition maps are $g_{ij} \otimes g_{ij}^{-1} =  1 \otimes 1$ as $g_{ij}, g_{ij}^\ast \in \mbb{F}$. Hence any section is globally defined. 
\end{proof}

\begin{remark}
	\hl{Why is the identity section not global on any other vector bundle.}
\end{remark}

We make a few more useful definitions. 

\begin{definition}
	Let $X$ be an algebraic surface and $\pi:L \to X$ a line bundle. Then the \bam{tautological section} of $\pi^\ast L$ as a bundle over $L$ is given by $\sigma(l) = (l,l)$. 
\end{definition}

\begin{remark}
	Not that the tautological section is indeed valid as we have 
	\eq{
		\pi^\ast L = \pbrace{(l,l^\prime) \in L\times L \, | \, \pi(l) = \pi(l^\prime)}	
	}
	so certainly $(l,l) \in \pi^\ast L$. 
\end{remark}

\begin{definition}
	The \bam{canonical bundle} on a space $X$ with $\dim X = n$ is the line bundle of exterior $n$-forms on $X$. It is often denoted $K$, not to be confused with the canonical divisor.   
\end{definition}
\begin{remark}
	Note we know the canonical bundle is a line bundle as there is only 1 basis element of $n$-forms on an $n$-dimensional space. 
\end{remark}


\subsubsection{\secmath{\mbb{CP}^n}}

\begin{definition}
The \bam{hyperplane bundle on $\mbb{CP}^n$} is the bundle $\mbb{C}^{n+1}\setminus 0 \to \mbb{CP}^n$ given by the standard projection $(z_0, \dots, z_n) \to [z_0: \dots : z_n]$. It is often denoted $\mc{O}(1)$.  We denote $\mc{O}(n) = \mc{O}(1)^{\otimes n}$.
\end{definition}

\begin{definition}
The \bam{tautological line bundle} on projective space is $\mc{O}(-1) = \mc{O}(1)^\ast$. We denote $\mc{O}(-n) = \mc{O}(-1)^{\otimes n}$. 
\end{definition}

\begin{prop}
The canonical bundle on the projective space is $K = \mc{O}(-n-1)$. 
\end{prop}



%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\subsection{Tangent Spaces}

\begin{definition}
	Given an even-dimensional smooth manifold, an \bam{almost complex structure} is a fibrewise operator $J:TM \to TM$ s.t. $J^2=-1$. 
\end{definition}

\begin{prop}
	Every complex manifold has an almost complex structure
\end{prop}
\begin{proof}
	Take the map $J\pround{\pd{x}} = \pd{y}, \, J\pround{\pd{y}} = - \pd{x}$
\end{proof}

Given a complex manifold $M$, the complex structure extends to the complexified tangent bundle as 
\eq{
J : TM \otimes \mbb{C} &\to TM \otimes \mbb{C} \\
J(X+iY) &= J(X) + iJ(Y)
}

\begin{definition}
	The $\pm i$ eigenspaces of the complexified tangent bundle $TM\otimes \mbb{C}$ are denoted $T^{1,0}M, \, T^{0,1}M$ respectively, and are called the \bam{holomorphic and antiholomorphic tangent bundles}
\end{definition}

\begin{lemma}
	$T^{0,1}_p(M) = \overline{T^{1,0}_p(M)}$
\end{lemma}
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\subsection{Cohomology}

\begin{notation}
	We denote the vector space of $k$-forms on $M$ as $\Omega^k(M)$. 
\end{notation}

As $\Omega^1(M)\otimes \mbb{C}$ is dual to $TM\otimes \mbb{C}$, we similarly get a decomposition
\eq{
\Omega^1(M) \otimes \mbb{C} = \Omega^{1,0}(M) \oplus \Omega^{0,1}(M)
}
Through the wedge product we then have 
\eq{
\Omega^n(M) &= \oplus_{p+q=n} \Omega^{p,q}(M) \\
\Omega^{p,q}(M) &= \bigwedge^p \Omega^{1,0}(M) \wedge \bigwedge^q \Omega^{0,1}(M)
}
\begin{notation}
	We let $\pi^{p,q}:\Omega^n \to \Omega^{p,q}$ be the appropriate projection maps 
\end{notation}

\begin{definition}
	The \bam{Dolbeault operators} are 
	\eq{
\del = \pi^{p+1,q} \circ d:\Omega^{p,q} &\to \Omega^{p+1,q} \\
\del = \pi^{p,q+1} \circ d:\Omega^{p,q} &\to \Omega^{p,q+1} 
}
\end{definition}

\begin{lemma}
	We have $d = \del + \bar{\del}$ and $\del^2 = \bar{\del}^2 = \del \bar{\del} + \bar{\del} \del = 0$.
\end{lemma}

With this lemma we can define the complex analogy of the de-Rham cohomology

\begin{definition}
	The \bam{Dolbeault cohomology} is 
	\eq{
H^{p,q}_{\bar{\del}}(M) = \faktor{\ker \pbrace{\bar{\del} : \Omega^{p,q} \to \Omega^{p,q+1}}}{\bar{\del} \Omega^{p,q-1}}	
}
\end{definition}

We can then state an analogy of the Poincare lemma:

\begin{prop}[$\bar{\del}$-Poincar\'e lemma]
	For $\Delta\subset \mbb{C}^n$ a polycylinder, 
	\eq{
H^{p,q}_{\bar{\del}}(\Delta) = 0 \, \text{ for } \,  q \geq 1	
}
\end{prop}

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\subsection{Calculus}
Suppose we have a positive definite Hermitian inner-product on $T^{1,0}_pM$, $\pangle{\cdot,\cdot}_p$, for each $p\in M$ a complex manifold. This induces a metric $h$ by 
\eq{
h_p(X_p,Y_p) = \pangle{X_p,Y_p}_p
}
\begin{definition}
	A \bam{coframe} for $h$ is a tuple of forms $\phi_1, \dots, \phi_n$ s.t. 
	\eq{
h = \sum\phi_i \otimes \bar{\phi}_i	
}
\end{definition}
Writing $\phi_i = \alpha_i + i \beta_i $ where $\alpha_i,\beta_i$ are real differential forms we get 
\eq{
h = \sum (\alpha_i \otimes \alpha_i + \beta_i \otimes \beta_i) - i(\alpha_i \otimes\beta_i - \beta_i \otimes \alpha_i)
}
\begin{notation}
	The Riemannian metric induced on $M$ is $g = \sum_i (\alpha_i \otimes \alpha_i + \beta_i \otimes \beta_i)$ while the associated $(1,1)$-form is $\omega = \frac{1}{2}\sum_i (\alpha_i \otimes\beta_i - \beta_i \otimes \alpha_i) = \frac{i}{2} \sum_i \phi_i \wedge \bar{\phi}_i$. 
\end{notation}

\begin{lemma}
	$\omega$ is natural in the sense that if $f:N \to M$ is holomorphic then $\omega_N = f^\ast \omega_M$. 
\end{lemma}

\begin{theorem}[Wirtinger]
	Let $S \subset M$ be a submanifold of dimension $d$. Then 
	\eq{
\vol(S) = \frac{1}{d!} \int_S \omega^d 	
}
\end{theorem}
\begin{proof}
	We will show the case of $S=M$, but then the result follows by naturality. Note the volume element associated to the Riemannian metric $g$ is 
	\eq{
d\mu = \bigwedge^n (\alpha_i \wedge \beta_i)	
}
whereas 
\eq{
\omega^n = \bigwedge^n \pround{\sum \alpha_i \wedge \beta_i} = n! \cdot d\mu 
}
\end{proof}
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\section{Sheaves}

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\subsection{Definitions}

\begin{definition}
	Given a topological space $X$, and category $C$, a \bam{sheaf} on $X$ is $\mc{F}$ s.t. 
	\begin{itemize}
		\item $\forall U \subset X$ open, $\exists \mc{F}(U) \in C$
		\item $\forall U \subset V$ open subsets $\exists r_{V,U} \in \Hom(\mc{F}(V), \mc{F}(U))$ satisfying
		\begin{enumerate}
			\item $\forall U \subset V \subset W$, $r_{W,U} = r_{V,U} \circ r_{W,V}$
	\item (Gluing) $\forall U,V \subset X, \, \sigma \in \mc{F}(U), \, \tau \in \mc{F}(V)$ s.t. $\ev{\sigma}{U \cap V} = \ev{\tau}{U \cap V}$, $\exists \rho \in \mc{F}(U \cup V)$ s.t. 
	\eq{
\ev{\rho}{U} = \sigma, \quad \ev{\rho}{V} = \tau	
}
\item (Locality) If $\sigma, \tau \in \mc{F}(U \cup V)$ are s.t. 
\eq{
\ev{\sigma}{U} = \ev{\tau}{U}, \quad \ev{\sigma}{V} = \ev{\tau}{V}
}
then $\sigma = \tau$.
		\end{enumerate}
	\end{itemize}
\end{definition}

\begin{remark}
	The category in the above definition is often either commutative rings or abelian groups. If we construct a category $S$ that has open subsets of $X$ as objects and $Hom(U,V)$ has a unique morphism of inclusion $U \hookrightarrow V$ if $U \subset V$ then we see that $\mc{F}$ is a contravariant functor with some additional data. If $C$ admits products of objects then that additional data can be represented as saying 
	\begin{tkz}
		\mc{F}(U \cup V) \arrow[r] &  \mc{F}(U)\times \mc{F}(V) \arrow[r,shift left] \arrow[r,shift right] & \mc{F}(U \cap V) 
	\end{tkz}
is an equaliser.
\end{remark}

We may do our usual homological algebra nonsense with these sheaves. 

\begin{definition}
	A morphism of sheaves is a natural transformation $\alpha : \mc{F} \to \mc{G}$. Hence we have $\alpha(U) \in \Hom(\mc{F}(U),\mc{G}(U))$.
\end{definition}

\begin{definition}
	Given $\alpha: \mc{F} \to \mc{G}$ a morphism of sheaves, the \bam{presheaf kernel} is $\ker_{pre}\alpha$ given by $(\ker_{pre}\alpha)(U) = \ker (\alpha(U))$.  
\end{definition}

\begin{prop}
	The presheaf kernel is a sheaf. 
\end{prop}

\begin{example}
	Let $X=\mbb{C}$, $O_X$ be the sheaf of holomorphic functions on $X$, and $O_X^\times$ the sheaf of invertible functions, where we consider them as sheaves of abelian groups under multiplication. We get an exact sequence 
	\eq{
0 \to \underline{\mbb{Z}} \to O_X \to O_X^\times \to 1	
}
\end{example}

\begin{definition}
	A \bam{ringed space} is a pair $(X,O_X)$ where $X$ is a topological space and $O_X$ is a sheaf of rings on $X$. $O_X$ is called the \bam{structure sheaf}. 
\end{definition}

\begin{example}
	Given a topological space $X$, if we take $O_X$ to be $\mbb{R}$-valued continuous functions on open subsets of $X$ then $(X,O_X)$ is a ringed space. 
\end{example}

\begin{example}
	An example that will be relevant for later discussions is that an affine variety $X$ with sheaf $O_X$ given by $O_X(U)$ being the regular functions on $U$, regular functions being those given locally by polynomials. 
\end{example}

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\subsection{Cohomology}

\begin{definition}
	We define the sheaf cohomology group $H^0(X,O_X)$ to be the group of global sections of $O_X$ on $X$. 
\end{definition}


%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\part{Riemann Surfaces}
Riemann surfaces are 1-dimensional complex manifolds (don't worry \hl{we'll get the proper definition later}). These are relevant from algebraic geometry for the following reason:
\begin{theorem}
	Every compact Riemann surface is an algebraic curve.
\end{theorem}
\begin{proof}
	See Griffiths \& Harris 
\end{proof}

\section{Examples of Riemann Surfaces}
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\subsection{Smooth Projective Plane Curves}

\begin{definition}
	A $\mbb{C}$-polynomial $F(\bm{x})=F(x_1, \dots, x_n)$ is \bam{homogeneous of degree d} if 
	\eq{
		\forall \lambda \in \mbb{C}, \, F(\lambda \bm{x}) = \lambda^d F(\bm{x})	
	}
\end{definition}

\begin{definition}
	The \bam{projective plane curve} defined by the homogeneous polynomial $F:\mbb{C}^3 \to \mbb{C}$ is the closed subset
	\eq{
		X = \pbrace{[x:y:z] \in \mbb{P}^2 \, | \, F(x,y,z) = 0}	\subset \mbb{P}^2
	}
\end{definition}

\begin{remark}
	Note that this is well defined as $F(x,y,z) = 0 \Leftrightarrow \lambda^d F(x,y,z)=F(\lambda x, \lambda y, \lambda z)=0$
\end{remark}

\begin{definition}
	A homogeneous polynomial $F:\mbb{C}^n \to \mbb{C}$ is \bam{singular} at $\bm{x}$ (i.e. $\bm{x}$ is a \bam{singular point}) if $\forall 1 \leq i \leq n$
	\eq{
		\ev{\pd[F]{x_i}}{\bm{x}} = 0 	
	}
	The polynomial is said to be \bam{non-singular} if it has no singular points
\end{definition}

\begin{prop}
	The projective plane curve corresponding to a non-singular homogeneous polynomial is a compact Riemann surface. 
\end{prop}

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\subsection{Complex Tori}

\begin{definition}
	A map between Riemann surfaces $f:X \to Y$ is called an \bam{isomorphism} iff the induced maps on open subsets of $\mbb{C}$ is bijective and analytic. If there is an isomorphism between $X,Y$, they are said to be isomorphic.  
\end{definition}

\begin{definition}
	Fix $\omega_1, \omega_2 \in \mbb{C}$ linearly independent over $\mbb{R}$ and let 
	\eq{
		L = L(\omega_1, \omega_2) = \mbb{Z}\omega_1 \oplus \mbb{Z}\omega_2 \subset \mbb{C}
	}
	The \bam{complex tori with lattice $\bm{L}$} is $X = \faktor{\mbb{C}}{L}$. The corresponding \bam{fundamental cell} is 
	\eq{
		\mf{F} = \mf{F}(X) = \pbrace{\alpha \omega_1+ \beta \omega_2 \, | \, \alpha,\beta \in [0,1)}
	}
\end{definition}

\begin{prop}
	Complex tori are Riemann surfaces. 
\end{prop}

\begin{prop}
	Two complex tori with lattices $L(\omega_1, \omega_2), \, L(\omega_1^\prime, \omega_2^\prime)$ are isomorphic iff $\exists$ a fractional linear transformation sending $\frac{\omega_2}{\omega_1} \mapsto \frac{\omega_2^\prime}{\omega_1^\prime}$
\end{prop}

\begin{prop}
	Every complex tori can be written with a lattice the form $L(1,\tau)$ where $\Im\tau > 0$
\end{prop}

\begin{remark}
	From the above results we can view the orbits of the modular group acting on the UHP as a list of all possible complex structures on the topological torus. We will always assume $\frac{\omega_2}{\omega_1}$ has positive imaginary part.  
\end{remark}


%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\section{Functions from Riemann Surface}
\subsection{Riemann Hurwitz}

\begin{definition}
	Let $f:\mbb{C} \to \mbb{C}$ be meromorphic at $z_0 \in \mbb{C}$ about which it's Laurent series $\sum_n c_n (z-z_0)^n$. The \bam{order} of $f$ at $z_0$ is 
	\eq{
		\ord_{z_0}(f) = \min\pbrace{n \, | \, c_n \neq 0}	
	}
\end{definition}

\begin{remark}
	This definition naturally extends to maps between Riemann surfaces by taking local coordinates around the points. 
\end{remark}

\begin{lemma}
	Let $f,g : X \to \mbb{C}$ be non-zero meromorphic functions and $p  \in X$. Then 
	\begin{itemize}
		\item $\ord_p(fg) = \ord_p(f) + \ord_p(g)$
		\item $\ord_p\pround{\frac{1}{f}} = -\ord_p(f)$
		\item $\ord_p\pround{\frac{f}{g}} = \ord_p(f) - \ord_p(g)$
	\end{itemize}
\end{lemma}
\begin{proof}
	The first results follows from multiplying together the Laurent series. The second and third then follow. 
\end{proof}

\begin{lemma}
	Let $X$ be a Riemann surface and $f:X \to \mbb{C}$ a non-constant meromorphic function. The set
	\eq{
		\pbrace{p \in X, \, \ord_p(f) \neq 0} \subset X	
	} 
	is discrete.
\end{lemma}
\begin{proof}
	If the set of poles of $f$ had an accumulation point, around this point $f$ would have no Laurent series. A similar argument gives no accumulation point for zeros. 
\end{proof}

\begin{corollary}
	Let $X$ be a  compact Riemann surface and $f:X \to \mbb{C}$ a non-constant meromorphic function. The set
	\eq{
		\pbrace{p \in X, \, \ord_p(f) \neq 0} \subset X	
	}
	is finite.
\end{corollary}

\begin{definition}
	Let $F:X \to Y$ be a map between Riemann surfaces holomorphic at $p \in X$. The \bam{multiplicity} of $F$ at $p$ is $\mult_p(F)=m$ the unique integer s.t. in local coordinates around $p$ $F$ is represented by 
	\eq{
		h(z) = h(z_0) + \sum_{i \geq m} c_i (z-z_0)^i
	}
\end{definition}

\begin{definition}
	Let $F:X \to Y$ be a non-constant holomorphic map of Riemann surfaces. $p \in X$ is called a \bam{ramification point} if $\mult_p(F) \geq 2$. $y\in Y$ is called a \bam{branch point} if $y=F(p)$ for some ramification point $p$. 
\end{definition}

\begin{remark}
	The thing to note here is that, generically, $\mult_p(F) = 1$ 
\end{remark}

\begin{prop}
	Let $f:X \to \mbb{C}$ be a meromorphic function and $F:X \to \mbb{C}_\infty$ the associated holomorphic map. Then 
	\begin{enumerate}
		\item If $p \in X$ is a zero of $f$, $\mult_p(F) = \ord_p(f)$
		\item If $p \in X$ is a pole of $f$, $\mult_p(F) = -\ord_p(f)$
		\item If $p \in X$ is neither a zero or a pole, $\mult_p(F) = \ord_p(f-f(p))$
	\end{enumerate}
\end{prop}

\begin{prop}
	Let $F:X \to Y$ be a holomorphic non-constant map of Riemann surfaces and consider the map $d_{\cdot}(F):Y \to \mbb{Z}$ 
	\eq{
		d_y(F) = \sum_{p \in F^{-1}(y)} \mult_p(F)	
	}
	The map $d$ is constant. 
\end{prop}

\begin{definition}
	Let $F:X \to Y$ be a holomorphic non-constant map of Riemann surfaces. The \bam{degree} of $F$ is 
	\eq{
		\deg(F) = d_y(F) \text{ for some $y \in Y$}
	}
\end{definition}

\begin{prop}
	Let $X$ be a compact Riemann surface and $f:X \to \mbb{C}$ a non-constant meromorphic function. Then 
	\eq{
		\sum_{p \in X} \ord_p(f) = 0	
	}
\end{prop}
\begin{proof}
	Consider the corresponding map $F: X \to \mbb{C}_\infty$. Let $\pbrace{x_i} = F^{-1}(0), \ ,\pbrace{y_j} = F^{-1}(\infty)$. Then 
	\eq{
		\sum_p \ord_p(f) &= \sum_i \ord_{x_i}(f) + \sum_j \ord_{y_j}(f) \\
		&= \sum_i \mult_{x_i}(F) - \sum_j \mult_{y_j}(F) \\
		&= d_0(F) - d_\infty(F) = 0	
	}
\end{proof}

\begin{remark}
	As $f$ can only have finitely many poles and zeros, for all but finitely many $p \in X$ we have $\ord_p(f) = 0$ so the sum makes sense. 
\end{remark}

\begin{theorem}[Riemann-Hurwitz Formula]
	Let $F:X \to Y$ be a non-constant holomorphic map between compact Riemann surfaces. Then 
	\eq{
		g(X) - 1 = \deg(F) \psquare{g(Y)-1} + \frac{1}{2} \sum_{p \in X} \psquare{\mult_p(F)-1}	
	}
	where $g$ is the genus of the underlying topological surface. 
\end{theorem}

\begin{example}
	An example that will be important to example later is that of a projective plane curve $X$ given by 
	\eq{
		X = \pbrace{[x:y:z] \, | \, P(x,y,z)=0} \subset \mbb{P}^2	
	}
	where $P: \mbb{C}^3 \to \mbb{C}$ is the homogeneous polynomial 
	\eq{
		P(x,y,z) = y^2z - x^3 + xz^2 -z^3
	}
	We note we can write 
	\eq{
		X = \pbrace{[x:y:1] \, | \, y^2 = x^3-x+1} \cup \pbrace{[0:1:0]}
	}
	We consider a map $F:X \to \mbb{P}^1$ by taking a coordinate on the curve. On the patch $z \neq 0$ we can choose $x$, and around $z=0=x$ we can choose $1/x$. We find that a generic point has two preimages except at the roots of $x^3-x+1$ or at 'infinity' ($z=0=x$) as at all these points there is only one value of $y$. Hence 
	\eq{
		g(X) = 1 + 2\psquare{0-1} + \frac{1}{2} \times 4\psquare{2-1} = 1
	}
	so topologically this curve is a torus.
\end{example}

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\subsection{Automorphisms}

We have the following corollary of Riemann-Hurwitz:

\begin{theorem}
	If $X$ is a compact Riemann surface with $g\geq 2$ then $\abs{\Aut(X)} \leq 84(g-1)$. 
\end{theorem}

\begin{theorem}
	A non-identity automorphism of a Riemann surface fixes at most $2g+2$ points. 
\end{theorem}
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\subsection{Field of Functions}

\begin{definition}
	Let $X$ be a Riemann surface. The set of all meromorphic functions $X \to \mbb{C}$ is called the \bam{field of functions} of $X$ and is denoted $K(X)$. 
\end{definition}

\begin{example}
	$K(\mbb{P}^1) \cong \mbb{C}(x)$
\end{example}

\begin{prop}
	$K(X)$ is a field extension of $\mbb{C}$. 
\end{prop}

\begin{prop}
	If $X$ is a compact Riemann surface then $K(X)/\mbb{C}$ is a field extension of transcendence degree 1.  
\end{prop}

\begin{definition}
	Let $X, Y$ be Riemann surfaces and $p : X \to Y$ a branched covering map. A \bam{deck
		transformation} is a fiber preserving biholomorphic map, that is, a map f such that the diagram
	\begin{tkz}
		X \arrow[r,"f"] \arrow[d,"p"'] & X \arrow[dl,"p"]\\
		Y &
	\end{tkz}
	commutes. We denote the set of them  $\text{Deck}(X/Y)$
\end{definition}

\begin{prop}
	The set of deck transformations form a group under composition
\end{prop}

\begin{theorem}
	Let $X,Y$ be compact Riemann surfaces and $p:X \to Y$ a $n$-fold branched covering. Then $K(X)/p^\ast K(Y)$ is a degree-$n$ field extension. \\
	Conversely let $Y$ be a Riemann surface and $L/K(Y)$ a degree-$n$ field extension. Then $\exists X$ a Riemann surface, $p:X \to Y$ an $n$-sheeted branched covering map, and $f \in K(X)$ s.t. $L\cong K(X)=p^\ast K(Y)(f)$. \\
	In both cases, $\text{Deck}(X/Y) \cong \Aut(K(X) / p^\ast K(Y))$  
\end{theorem}

\begin{corollary}
	Let $X,Y$ be compact Riemann surfaces, then $X\cong Y$ iff $K(X) \cong K(Y)$. 
\end{corollary}

\begin{remark}
	We can view this final remark from the point of view of category theory. We can let $R$ be the category of compact Riemann surfaces with morphisms given by holomorphic maps. We then give the contravariant functor 
	\eq{
		K:R \to \text{Sets}	
	}
	sending a compact Riemann surface $X$ to its function field $K(X)$, and sending morphisms to their pullback. This is a representable functor as 
	\eq{
		K(X) = \Hom(X,\mbb{P}^1)
	}
	Hence that $X \cong Y \Leftrightarrow K(X) \cong K(Y)$ is a consequence of the Yoneda lemma. 
\end{remark}
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\section{Divisors and their applications}
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\subsection{Divisors}
\begin{definition}
	A \bam{(Weil) divisor} on $C$ is a formal finite sum of points, i.e. $D = \sum_i n_i p_i$ for $n_i \in \mbb{Z}, \, p_i \in C$. The group of divisors under addition is denoted $\Div(C)$. 
\end{definition}

\begin{definition}
	The \bam{degree} of a divisor $D = \sum_i n_i p_i$ $\deg D = \sum_i n_i $
\end{definition}

\begin{definition}
	Given a meromorphic function $f:C \to \mbb{C}$ we define $(f) \in \Div(C)$ by 
	\eq{
		(f) = \sum_{p \in X} \ord_p (f) \cdot p 
	}
	For $D \in \Div(C)$, if $\exists f$ s.t. $D=(f)$ we say $D$ is a \bam{principal divisor}. 
\end{definition}

\begin{lemma}$(fg) = (f)+(g)$
\end{lemma}
\begin{corollary}
	Principal divisors form a subgroup  $\Lin(C) \leq \Div(C)$. 
\end{corollary}

\begin{lemma}
	If $X$ is a compact Riemann surface and $f:X \to \mbb{C}$ meromorphic then $\deg(f) = 0$. 
\end{lemma}

\begin{prop}
	Let $C$ be compact. Then $\Lin(C) \subset \pbrace{D \in \Div(C) \, | \deg(D) = 0}$. 
\end{prop}

\begin{definition}
	The \bam{divisor class group} of $C$ is $\Cl(C) = \faktor{\Div(C)}{\Lin(C)}$. The equivalence class corresponding to $D$ is often denoted as $\abs{D}$ and is called the \bam{complete linear system} associated with $D$. 
\end{definition}

\begin{remark}
	$\deg: \Div(C) \to \mbb{Z}$ is a group homomorphism and as the kernel is $\Lin(C)$ we see $\Cl(C) \cong \image \deg$
\end{remark}
\begin{corollary}
	$\Cl(\mbb{CP}^n) \cong \mbb{Z}$. 
\end{corollary}

\begin{definition}
	Two divisors $D,E$ are \bam{linearly equivalent} if $D-E$ is a principal.
\end{definition}

\begin{lemma}
	Linear equivalence of divisors is an equivalence relation. 
\end{lemma}

\begin{lemma}
	$f:X \to Y$ induces a group morphism $f:\Div(X) \to \Div(Y)$ by 
	\eq{
		f \pround{\sum_i n_i p_i} = \sum_i n_i f(p_i)
	}
\end{lemma}

\begin{prop}
	If $f:X \to Y$ is a map of Riemann surfaces and $D \in \Div(X)$, then $\deg(f(D)) = \deg f \cdot \deg D$.
\end{prop}

\begin{definition}
	A divisor $D = \sum_i n_i p_i$ is \bam{effective} if each $n_i \geq0$.  
\end{definition}

\begin{prop}
	We have a partial ordering on $\Div(C)$ by saying $D\geq D^\prime$ if $D-D^\prime$ is effective. 
\end{prop}

\begin{definition}
	A Weil divisor on $C$ defines a \hl{coherent} sheaf $O_C(D)$ as meromorphic functions $f$ s.t $(f)+D\geq0$. 
\end{definition}

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\subsection{Abel-Jacobi}
Suppose $C$ has genus $g$, then we know that $H_1(C,\mbb{Z}) \cong \mbb{Z}^{2g}$ where the generators are the loops $\pbrace{\gamma_i}_{i=1}^{2g}$. There is an alternative way to say this condition:

\begin{prop}
	If $X=C$ is a Riemann surface of genus $g$ then $H^0(C,K)\cong \mbb{C}^g$. 
\end{prop}
\begin{proof}
	See Farkas \& Kra, III.2.7.
\end{proof}
\begin{corollary}
	We can take a basis $\pbrace{\omega_i}_{i=1}^g$ of 1-forms on $C$. 
\end{corollary}
\begin{definition}
	The \bam{Jacobian} of $C$ is defined to be 
	\eq{
		J(C) = \faktor{\mbb{C}^g}{\Lambda}	
	}
	where $\Lambda$ is the lattice generated over $\mbb{R}$ by the vectors 
	\eq{
		\Omega_j = \pround{\int_{\gamma_j} \omega_1, \dots, \int_{\gamma_j} \omega_g }, \quad 1 \leq j \leq 2g 
	}
\end{definition}

\begin{definition}
	The \bam{Abel-Jacobi map} for $p_0 \in C$ is 
	\eq{
		u : C &\to J(C) \\
		p &\mapsto 	\pround{\int_{p_0}^p \omega_1, \dots, \int_{p_0}^p \omega_g } \mod \Lambda 
	}
	This is independent of the path of integration as we have quotiented by $\Lambda$. 
\end{definition}

\begin{theorem}[Abel's Theorem]
	Let $u$ be the Abel-Jacobi map and $D,E$ effective divisors. Then $u(D) = u(E) \Leftrightarrow D \sim E$. 
\end{theorem}

\begin{theorem}[Jacobi's Theorem]
	The map Abel-Jacobi map is surjective. 
\end{theorem}

\begin{corollary}
	There is an isomorphism from the space of degree-0 divisors to the Jacobian. 
\end{corollary}

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%5
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\subsection{Picard Group}\label{subsec:Picard Group}

\begin{definition}
	The \bam{Picard group} of a locally ringed space $X$ is $\Pic(X)$ the group of isomorphism classes of line bundles on $X$ with the group operation being $\otimes$. 
\end{definition}

\begin{remark}
	In place of line bundles we can actually say \bam{invertible sheaves} 
\end{remark}

\begin{theorem}
	$\Cl(C) \cong \Pic(C)$ naturally. 
\end{theorem}
\begin{proof}
	See \href{https://math.stanford.edu/~vakil/725/class23.pdf}{Vakil's notes}. Alternatively this is covered in more generality in "The Rising Sea" (\S 14.2).
\end{proof}

\begin{corollary}
	We get a group homomorphism $\deg:\Pic(C) \to \mbb{Z}$ giving the degree of the corresponding divisor in $\Cl(C)$. 
\end{corollary}
\begin{corollary}
	$\Pic(\mbb{CP}^1) \cong \mbb{Z}$. 
\end{corollary}
\begin{prop}
	$\Pic(\mbb{CP}^1)$ is generated by $\mc{O}(\pm1)$.  
\end{prop}

\begin{notation}
	We denote the isomorphism class of line bundles degree $d$ as $\Pic^d(C)$
\end{notation}

\begin{remark}
	With this new notation we may rephrase the corollary of the Abel-Jacobi theorem to say $J(C) \cong \Pic^0(C)$. 
\end{remark}

\begin{prop}
	There is a canonical isomorphism $\Pic(X) \cong H^1(X, O_X^\times)$. 
\end{prop}
\begin{corollary}
	$T_L(\Pic^d(X)) \cong H^1(X,O_X)$
\end{corollary}
\begin{proof}
	You need to use the \hl{exponential sheaf sequence}. 
\end{proof}
With this result we can make another identity of the Picard group:
\begin{prop}
	$c_1 : \Pic(X) \overset{\cong}{\to} H^2(X,\mbb{Z})$
\end{prop}
\begin{proof}
	This is a result we know that the first chern class classifies line bundle up to isomorphism. The iso comes from the cohomology LES associated with SES
	\eq{
	0 \to \mbb{Z} \to O_X \to O_X^\times \to 0
}
\end{proof}

We can also ask about division in the Picard group:

\begin{definition}
	A \bam{square root} of $L \in \Pic(X)$ is $\tilde{L} \in \Pic(X)$ s.t $\tilde{L}^{\otimes 2}= L$. Under the isomorphism to the divisor class group this is a solution to $2D_{\tilde{L}} = D_L$. 
\end{definition}


\begin{prop}\label{prop:square roots of line bundles}
	We have the following results about square-roots:
	\begin{itemize}
		\item $L$ has a square-root iff $\deg L$ is even
		\item If $L$ is a line bundle on $X$, $g(X)=g$, then if $L$ has a square-root it has exactly $2^{2g}$ square-roots. 
	\end{itemize}
\end{prop}
\begin{proof}
	\hl{Find reference for the first point}. If we think about the SES of sheaves 
	\eq{
0 \to \pbrace{\pm 1} \to O_X^\times \overset{\text{square}}{\to} O_X^\times \to 0	
}
	we get a corresponding LES of cohomology with relevant section:
	\eq{
H^0(X,O_X^\times) \to H^1(X,\pbrace{\pm 1}) \to \Pic(X) \overset{\otimes 2}{\to} \Pic(X) \to H^2(X,\pbrace{\pm 1})
}
	Hence the obstruction to taking square roots comes from the cohomology $H^2(X,\pbrace{\pm 1})$. This corresponds to whether the degree is odd or even. \\
	For the second point, note that if we had two square roots $\tilde{L}_1, \tilde{L}_2$, then $M=\tilde{L}_1 \otimes \tilde{L}_2^{-1}$ satisfies $M^{\otimes 2}=O$. These are the torsion elements of the Picard group. We know $\deg M=0$ so $M \in \Pic^0(X) \cong J(X)$. The torsion elements thus correspond to the half-period elements of the Jacobian lattice. 
\end{proof}

\begin{example}
	A square root of the canonical bundle $K=\mc{O}(-2)$ on $\mbb{CP}^1$ is $\mc{O}(-1)$. This example can be understood well in terms of the corresponding divisors. The canonical divisor comes from $dz$, which has a double pole, do $K=-2P$ (where $P$ is a point in $\mbb{P}^1$). The square root then corresponds to the divisor $-P$. These solutions are visually unique, and we know that to be so from the previous prop.  
\end{example}

\begin{remark}
	It is a corollary of Riemann-Roch (\ref{Thm: Riemann-Roch})that the degree of the canonical divisor is even, and so we always have square roots of the canonical bundle. 
\end{remark}
\begin{notation}
	We will denote
	\eq{
S(X) = \pbrace{L \in \Pic(X) \, | \, L^{\otimes 2} = K_X}	
}
Note that by the proof of \ref{prop:square roots of line bundles} we have $S(X) \cong H^1(X,F_2)$, where we are now denoting $F_2$ for the field of two elements. Moreover, $S(X)$ is an affine space over $F_2$ modelled on $H^1(X,F_2)$. 
\end{notation}

\begin{definition}
	A \bam{theta characteristic} is a characteristic class $\Theta$ s.t. $2\Theta = c_1(K)$, i.e. a characteristic class corresponding to a square-root of the canonical bundle. 
\end{definition}

\begin{remark}
	It is the case (\hl{see nlab}) that if a theta characteristic corresponds to a polarising line bundle, then the sections of this bundle are theta functions. 
\end{remark}
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%5
\subsection{Riemann-Roch and Weierstrass Points}
We now restrict to considering compact Riemann surfaces $X$, and denote the field of meromorphic functions on $X$ by $H^0(X,O_X)$.
\begin{remark}
	There are lots of different notations used for the field of meromorphic functions on $X$, for example Farkas \& Kra use $\mc{H}(X)$. By writing it in sheaf cohomology notation, we make connections with Griffiths. \\
	Note also in this section we will use the additive presentation of divisors. This goes against Farkas \& Kra who use multiplicative notation.
\end{remark}

\begin{definition}
	Given divisor $D$ on $X$ we define the $\mbb{C}$-vector space 
	\eq{
		L(D) = \pbrace{f \in H^0(O_X) \, | \, (f)+D \geq 0}	= H^0(X,O_X(D))
	}
	We denote $\dim L(D) = l(D)$.
\end{definition}

\begin{remark}
	This convention, agreeing with Wikipedia and Griffiths, differs from Farkas \& Kra, who would have $r(D) = l(-D)$. 
\end{remark}

\begin{lemma}
	$l(D) = \dim \abs{D}+1$. 
\end{lemma}
\begin{proof}
	See Hartshorne, prop 7.7. The idea is that a section $s$ gives a divisor $(s)$, and two sections have the same divisor iff they are a constant multiple of each other. 
\end{proof}

\begin{definition}
	Given $D \in \Div(X)$ we define the \bam{index of speciality} of the divisor $D$ to be $i(D) = \dim \Omega(D)$ where
	\eq{
		\Omega(D) = \pbrace{\omega \, | \, \omega \text{ an abelian differential}, \, (\omega)\geq D}	
	}
\end{definition}




We now state some simple-to-prove results
\begin{prop}
	We have the following results about $L$:
	\begin{itemize}
		\item Given $C,D \in \Div(X), \, C \leq D \Rightarrow L(C) \subseteq L(D)$
		\item $L(0) = \mbb{C} \Rightarrow l(0) = 1$. 
		\item Given $D \in \Div(X), \, \deg(D)<0 \Rightarrow l(D) = 0$. 
		\item $i(D) = l(K-D)$ where $K$ is the canonical divisor.
		\item $\Omega(0) = H^0(X,K_X) \Rightarrow i(0) = g$. 
		\item $l(D)$ and $i(D)$ depend only on the divisor class group of $D$
	\end{itemize}
\end{prop}

\begin{theorem}[Riemann-Roch] \label{Thm: Riemann-Roch}
	$l(D) = \deg(D) -g+1 + i(D)$
\end{theorem}

\begin{corollary}
	$\deg K = 2g-2$. 
\end{corollary} 

Now using the above proposition an  Riemann-Roch, note that for $p \in X$ we have that the sequence $\pbrace{l(kp)}_{k=0}^\infty$ goes 
\eq{
	1, \underbrace{?, \dots, ?}_{1\leq k \leq 2g-2} , g, g+1, \dots 
}
It is known that this sequence can increase by a maximum of 1 from term to term. This observation leads to the following result:
\begin{theorem}[Weierstrass Gap Theorem]
	Let $X$ be a compact genus-$g$ Riemanns surface, then $\forall p \in X$ $\exists!$ integers $\pbrace{n_i}_{i=1}^g$ s.t. 
	\eq{
		1=n_1 < n_2 < \dots < n_g < 2g	
	} 
	and that $\nexists f$ s.t. $(f)=-n_ip$
\end{theorem}

\begin{definition}
	The \bam{weight} of $p \in X$ is 
	\eq{
		w_p = \sum_{i=1}^g (n_i - i)	
	}
	$p \in X$ is a \bam{Weierstrass point} if $w_p \neq 0$ (note that $w_p \geq 0$, so at a Weierstrass point it is positive). We will sometimes denote the set of Weierstrass points as $W=W(X)$. 
\end{definition}
We have results about the abundancy of Weierstrass points:
\begin{prop}
	We have 
	\begin{itemize}
		\item The set of Weierstrass points is discrete
		\item $\sum_{p \in X} w_p = g^3-g$
		\item If $g\geq 2$ the number of Weierstrass points $\abs{W}$ satisfies 
		\eq{
			2g+2 \leq \abs{W} \leq g^3-g	
		}
		attaining the lower bound iff $X$ is hyperelliptic, where the Weierstrass points are the branch points. Generically a Riemann surface will have $\abs{W}=g^3-g$. 
	\end{itemize}
\end{prop}

The next result gives a link between Weierstrass points and symmetry:
\begin{theorem}
	Automorphisms of compact Riemann surfaces permute Weierstrass points, that is we get a group homomorphism $\Aut(X) \to S_{W}$. 
\end{theorem}
\begin{proof}
	See Mondal's masters thesis. 
\end{proof}
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\section{Classifying Riemann Surfaces}
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\subsection{Riemann Matrix}
We now want to consider the pairing of homology and cohomology on $X$. This can lead to information about the Abel-Jacobi map, but will also lead to an invariant of a Riemann surface. Relevant references include Eynard's Lectures on Compact Riemann Surfaces, Miranda, \href{https://people.reed.edu/~jerry/311/theta.pdf}{these notes}. 


\begin{definition}
	A homology basis $\bm{c} = (\bm{a},\bm{b})$ is \bam{canonical} if $\bm{c} \cdot \bm{c} = J$ where we are taking the intersection number and $J=\begin{psmallmatrix} 0 & I \\ -I & 0 \end{psmallmatrix}$. 
\end{definition}
\begin{remark}
	Despite the term canonical, there is no unique choice of such a basis. Given any homology basis $\bm{c}$ we can make a new basis by taking $M\bm{c}$ for $M\in GL_{2g}(\mbb{Z})$. If the original basis was canonical then so is the transformed basis iff $MJM^T = J$, which is the condition for $M^T$ to be a symplectic matrix, giving $M$ symplectic. 
\end{remark}

The object we want to calculate is explicitly the period matrix, defined as follows:
\begin{definition}
	Let $\pbrace{a_i, b_i}_{i=1}^g$ be a canonical choice of homology basis, and $\pbrace{\omega_i}_{i=1}^g$ a basis of holomorphic differentials. Then the \bam{matrix of periods} is $\Omega = (A,B)$ where we calculate the $g\times g$ matrices $A,B$ by 
	\eq{
		A_{ij} = \int_{a_j} \omega_i, \quad \quad B_{ij} = \int_{b_j} \omega_i
	}
\end{definition}

In order to say something about the form of $\Omega$, we need the following result:
\begin{prop}[Riemann's Bilinear Identities]
	$\Omega J \Omega^T = 0$ and $-i\bar{\Omega}J\Omega^T > 0$
\end{prop}
\begin{corollary}
	For fixed differential basis $\pbrace{\omega_i}$, $\exists \bm{c}$ a canonical basis s.t $A_{ij} = \delta_{ij}$. 
\end{corollary}

\begin{definition}
	The \bam{Riemann matrix} corresponding to $\Omega$ is $\tau = A^{-1}B$. 
\end{definition}

\begin{definition}
	We define the \bam{Siegel upper half space} to be 
	\eq{
		\mbb{H}_g = \pbrace{M \in M_g(\mbb{C}) \, | \, M^T = M, \, \image M > 0}
	}
\end{definition}

\begin{lemma} $\tau \in \mbb{H}_g$.  
\end{lemma}

\begin{example}
	$\mbb{H}_1 = \mbb{H} \subset \mbb{C}$ is the upper half plane, explaining the name and notation convention. The case $g=1$ corresponds to elliptic curves, and we are recovering the usual $\tau$ we assign which tells us about the period lattice of the torus. This is not a coincidence, and we shall later related $\tau$ to the Jacobian of the curve. 
\end{example}


\begin{remark}
	There was a choice made in arranging this matrix as $g \times 2g$. Had we chosen instead $\Omega$ to be $2g \times g$ as 
	\eq{
		\tilde{\Omega}_{ij} = \int_{c_i} \omega_j	
	} 
	where $\bm{c} = (\bm{a},\bm{b})$ is the tuple of cycles, then we get that $\tilde{\Omega} = \Omega^T \Leftrightarrow \tilde{A}=A^T, \tilde{B} = B^T$. In order to continue this correspondence to get $\tilde{\tau} = \tau^T$ we need $\tilde{\tau} = \tilde{B} \tilde{A}^{-1}$. As $\tau$ is symmetric, we know that $\tilde{\tau} = \tau$, so our value of Riemann matrix is not dependent on convention. 
\end{remark}

\begin{lemma}
	If we change canonical homology basis by $\bm{c}^\prime = M \bm{c}$ where $M = \begin{psmallmatrix} a & b \\ c & d \end{psmallmatrix} \in Sp(2g,\mbb{Z})$, then $\Omega$ transforms as $\tilde{\Omega}^\prime = M\tilde{\Omega}$ and hence $\tilde{\tau}^\prime = (d\tilde{\tau}+c)(b\tilde{\tau}+a)^{-1}$. \\
	If we change cohomology basis by $\bm{\omega}^\prime = G \bm{\omega}$ for $G \in GL_g(\mbb{C})$, then $\Omega$ transforms as $\Omega^\prime = G\Omega$ and hence $\tau^\prime = \tau$.   
\end{lemma}
\begin{remark}
	It is for this reason that, although taking $\Omega$ to be $g \times 2g$ is seemingly a more prevalent convention, the latter is more sensible because of the corresponding actions. Moreover, if conjugate $M$ with the outer automorphism $\begin{psmallmatrix} 0 & I \\ I & 0 \end{psmallmatrix}$ then we get $\tilde{\tau}^\prime = (a\tilde{\tau}+b)(c\tilde{\tau}+d)^{-1}$, which recovers the fractional linear transformation action of $SL_2(\mbb{Z}) \cong Sp_2(\mbb{Z})$ known in the case of elliptic curves. The reason for the conjugation is as with elliptic curves, we typically normalise the bottom element to 1 instead. 
\end{remark}

\subsubsection{Riemann Matrices of Covered Spaces}
Fay \cite{Fay2006} is a good reference for this section, we will illustrate in a specific example, namely that of Burnside's curve. This builds of calculations in Braden's \textit{Riemann Surfaces with Symmetry}. We let $X$ be a genus 2 hyperelliptic curve with order 2 automorphism $r$ that is not the hyperelliptic involution, and we quotient by it's action to get $X \to \hat{X}$, where $\hat{X}$ is an elliptic curve. Then given two cycles $\mf{a},\mf{b}$ on $\hat{X}$ that form a homology basis, we can construct a full homology basis on $X$ from 
\eq{
\mf{a}_1 &= \mf{a}+r_\ast\mf{a} \\
\mf{a}_2 &= \mf{b} - r_\ast\mf{b} \\
\mf{b}_1 &= \mf{b} \\
\mf{b}_2 &= r_\ast\mf{a}
}
and if we choose a basis of differential $\omega_1, \omega_2$ s.t $r^\ast \omega_1 = \omega_1, r^\ast \omega_2 = -\omega_2$ we can find that the Riemann matrix is given by 
\eq{
\tau = \begin{pmatrix} \frac{\int_\mf{b} \omega_1}{2\int_\mf{a} \omega_1} & \frac{1}{2} \\ \frac{1}{2} &  \frac{-\int_\mf{a} \omega_2}{2\int_\mf{b} \omega_2} \end{pmatrix} 
}
For later references we will fix this notation so 
\eq{
\tau_{11} = \frac{\int_\mf{b} \omega_1}{2\int_\mf{a} \omega_1}, \quad \tau_{22} = \frac{-\int_\mf{a} \omega_2}{2\int_\mf{b} \omega_2}
}
\begin{remark}
	Note we have been cavalier here with denoting $\mf{a},\mf{b}$ both as cycles on $X$ and $\hat{X}$, \hl{this may come back to bite us in the ass}. 
\end{remark}
To calculate the Riemann matrix on $\hat{X}$ we keep our homology basis, but now we define a differential by first defining $u,u^\prime$ s.t. 
\eq{
\int_\mf{a} u = 1, \quad \int_{-r_\ast \mf{a}} u = 0, \quad \int_{\mf{a}} u^\prime = 0, \quad \int_{-r_\ast \mf{a}} u^\prime = 1
}
and then setting our differential to be $\hat{\omega} = u-u^\prime$. We then have the Riemann matrix on $\hat{X}$ as 
\eq{
\hat{\tau} = \frac{\int_\mf{b} \hat{\omega}}{\int_\mf{a} \hat{\omega}}
}
It can be shown that with these conventions $\hat{\omega} = \frac{\omega_1}{\int_\mf{a} \omega_1}$ and so we get $\hat{\tau} = 2\tau_{11}$. \\
The consequence of this is that, if we are given an elliptic curve with Riemann matrix $\hat{\tau}$ and told that it is the base of a double cover of a genus 2 hyperelliptic curve $X$ by an automorphism, then $X$ has Riemann matrix 
\eq{
\tau = \frac{1}{2}\begin{pmatrix} \hat{\tau} & 1 \\ 1 & 2\tau_{22} \end{pmatrix} 
}
At this point we cannot expect to know anything else about the hyperelliptic, as we know from the work of Bolza that the moduli space of hyperelliptic curves with a $C_2$ symmetry is 2 dimensional. Note an alternate form for the Riemann matrix on $X$ shown to exists by Fay was 
\eq{
\tau^\prime = \frac{1}{2}\begin{pmatrix} \hat{\tau}+\pi_{11} & -\hat{\tau}+\pi_{11} \\ -\hat{\tau}+\pi_{11} & \hat{\tau}+\pi_{11} \end{pmatrix} 
}
where $\pi_{11} = \frac{-1}{2\tau_{22}}$. \\
Suppose now that $X$ has a second non-hyperelliptic involution $r^\prime$. From Bolza's classification we know that $r,r^\prime$ must generate a $V_4$ group, so specifically $rr^\prime = r^\prime r$. We want a way to find $\tau_{22}$ using this other involution, so we want to repeat the process as before using  a new quotient by the $r^\prime$ action, $\hat{X}^\prime$. As 
\eq{
r^\ast = \begin{pmatrix} 1 & 0 \\ 0 & -1 \end{pmatrix}
}
wrt the basis, using our knowledge of matrix representations of the Klein 4 group we must have 
\eq{
	(r^\prime)^\ast = \begin{pmatrix} -1 & 0 \\ 0 & 1 \end{pmatrix}
}
so we need to swap the differentials (that is $\omega_1^\prime = \omega_2$ and $\omega_2^\prime = \omega_1$)s now $(r^\prime)^\ast \omega_2 = \omega_2, \, (r^\prime) a^\ast \omega_1 = -\omega_1$. This yields 
\eq{
\hat{\tau}^\prime = \frac{\int_\mf{b} \omega_2}{\int_\mf{a} \omega_2} = \frac{-1}{2\tau_{22}} 
}
Hence we can now combine our knowledge when $\hat{\tau} = \hat{\tau}^\prime$ to say that $X$ will have a Riemann matrix
\eq{
	\tau = \frac{1}{2}\begin{pmatrix} \hat{\tau} & 1 \\ 1 & -1/\hat{\tau} \end{pmatrix} 
}
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\subsection{Monodromy}
\begin{definition}
	Given a $n$-fold covering $f:X \to Y$ and a closed path $\gamma$ based at $p \in Y$, then $\gamma$ lift to a path $\hat{\gamma}$ in $X$ s.t. $f \circ \hat{\gamma}=\gamma$. Then $\gamma$ induces a bijection $\sigma_\gamma : f^{-1}(p) \to f^{-1}(p)$ called the \bam{monodromy associated to $\gamma$}. By fixing an ordering of $f^{-1}(p)$ we identify $\sigma \in S_n$.  
\end{definition}
\begin{remark}
	The monodromy is fixed under basepoint preserving homotopies of paths, and actually we get a functor $\Pi_1(Y) \to Set$. See \href{https://ncatlab.org/nlab/show/monodromy}{nlab} for more. 
\end{remark}


\subsection{Invariants}
\subsubsection{j-invariant}
\subsubsection{Igusa invariants}

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\section{Spin Structures}
We will now want to understand two papers, by Atiyah \cite{Atiyah1971} and Kallel, Sjerve \cite{Kallel2006}, on spin structure on Riemann surfaces. 
\subsection{A particular quadratic form}
Recall in subsection \ref{subsec:Picard Group} we looked at solutions in the divisor class group to the equation $2D=K$. We can say some more. Recall that on a Riemann surface $X$, the space $S(X)$ is affine over $F_2$ with group of translations $H^1(X,F_2)$ (see prop \ref{prop:square roots of line bundles}). 
\begin{definition}
	If $A$ is an affine space over $F_2$, a function $\phi:A \to F_2$ is \bam{quadratic} if $\forall a \in A, \, x,y \in T(A)$ (the v.sp of translations) the function 
	\eq{
H_a : T(A) \times T(A) &\to F_2 \\
(x,y) &\mapsto \phi(a+x+y) - \phi(a+x) - \phi(a+y) + \phi(a)	
}
is bilinear. 
\end{definition} 

\begin{lemma}
	The associated bilinear form $H_a$ is independent of $a$. 
\end{lemma}	
If $\phi(a)=0$, and we identify $A$ with $T(A)$ by $a+x \mapsto x$, $\phi$ is a quadratic from on $T(A)$ is the standard sense of a vector space, with associated bilinear form $H$. 
\begin{lemma}
If $H$ is non-degenerate it is classified by the number of zeros of $\phi$, or equivalently the Arf invariant. 
\end{lemma}

\begin{theorem}
	The function $\phi:S(X) \to F_2, \, \phi(L) = \dim \Gamma(L) \, (\text{mod } 2)$ is a quadratic function whose associated bilinear form is the cup product on $H^1(X,F_2)$. 
\end{theorem}
In order to identify the bilinear with the cup product we just need to work out the number of zeros of the quadratic corresponding to the cup product, and the zeros of $\phi$ which are given by the following prop
\begin{prop}
	$\phi$ takes the values 0,1 at $2^{g-1}(2^g+1), \, 2^{g-1}(2^g-1)$ points of $S$ respectively. 
\end{prop}
\begin{proof}
	See Mumford (\hl{ref}).
\end{proof}
This then means they coincide. \\
We can further say that 
\begin{theorem}
	Let $\pbrace{X_t \, | \, t \in \mbb{C}, \, \abs{t}<1}$ be a holomorphic family of compact Riemann surfaces, and let $D_t$ be a divisor class in $X_t$ s.t. $2D_t = K_t$. Then $\dim \abs{D_t}$ is constant mod 2.  
\end{theorem}
This means that the previous result does not depend on the complex structure on $X$. 

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\subsection{Spin Structures on Riemann Surfaces}
We have been introducing square-roots of the canonical bundle, and the next prop is the reason why.

We need a brief lemma:

\begin{lemma}
	Line bundles correspond bijectively to circle bundles.
\end{lemma}
\begin{proof}
	See \href{https://ncatlab.org/nlab/show/classifying+space}{here}, \href{https://ncatlab.org/nlab/show/circle+bundle}{here}, and \href{https://en.wikipedia.org/wiki/Complex_projective_space}{here}. It boils down to the fact that we have the map $BU(1) \cong \mbb{CP}^\infty$ so we get that every complex line bundle $L \to X$ is the pullback along a map of the universal line bundle $S^\infty \hookrightarrow \mc{L} \twoheadrightarrow \mbb{CP}^\infty$. That is, we have the square
	\begin{tkz}
		L \arrow[r] \arrow[d] & \mc{L} \arrow[d] \\ X \arrow[r] & \mbb{CP}^\infty  
	\end{tkz}
\end{proof}

\begin{prop}
	Spin structures on a compact complex manifold correspond bijectively with isomorphism classes of line bundles $L$ s.t $L^{\otimes 2}\cong K$. 
\end{prop}
\begin{proof}
	On an almost complex manifold we have a reduction of structure group from $SO(2n)$ to $U(n)$, and we have the map $\det:U(n) \to U(1)$, so we can take a spin structure on $X$ to be a cohomology class $\xi \in H^1(U(X),F_2)$ (modulo the image of $H^1(X,F_2)$ under $\pi^\ast$) that restricts to the generator of $H^1(U(1),F_2)\cong F_2$ on the fibre, where $U(X)$ is the unit tangent bundle on $X$. This generator is the squaring map. \\
	Now by the lemma we have that $\xi$ corresponds to a continuous line bundle $L \in \Pic(X)$, and the facts that $\xi$ maps to the generator $-1 \in H^1(U(1),F_2)$ means that $L$ is the pullback of $\mc{O}(-1)$ the line bundle over $\mbb{CP}^\infty$. This means that we must have an isomorphism $\alpha:L^{\otimes 2} \to K_X$ (as $\mc{O}(-1)^{\otimes 2} = \mc{O}(-2) = K_{\mbb{CP}^\infty}$). The holomorphic structure on $L$ is then inherited from $K$, and if $X$ is compact the holomorphic structure conversely fixes $\alpha$ up to a scale factor, so the isomorphism is fixed. Hence we are done.
\end{proof}

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\subsection{Invariant Spin Structures}

We will want to understand the interplay between the spin structures on a Riemann surface and it's automorphisms. We start with a generic result about quadratic forms:

\begin{lemma}\label{lemma: preserving quadratic gives fixed point}
	Let $V$ be a f.d. v.sp over $F_2$ and let $\phi:V \to F_2$ be a quadratic functions whose associated bilinear $H$ is non-degenerate. Then any affine transform of $V$, $x \mapsto Ax+b$ which preserves $T$ has a fixed point.  
\end{lemma}
\begin{proof}
	By assumption we have
	\eq{
\phi(x) = \phi(Ax+b) = \phi(Ax) + \phi(b) + H(Ax,b)	
} 
Setting $x=0$ gives us $\phi(b)=0$ and so $\phi(x) = \phi(Ax)+H(Ax.b)$. Expanding $H(x,y)$ then finds 
\eq{
H(x,y) = H(Ax,Ay) \Rightarrow A^\ast A = I
} 
where $A^\ast$ is the dual of $A$ wrt to the non-degenerate inner product $\pangle{x,y} = H(x,y)$. Now 
\eq{
A^\ast x = x \Rightarrow Ax = x \Rightarrow H(x,b) = 0 &\Rightarrow b \perp \ker(A-I)^\ast \\
&\Rightarrow b \in \image(A-I) \\
& \Rightarrow \exists y \in V, \, b=(A-I)y \\
& \Rightarrow \exists y \in V, \, y = Ay+b
}
Hence $y$ is a fixed point of the transform. 
\end{proof}

Using now the quadratic $\phi$ defined on $S(X)$ we have the following corollary:

\begin{corollary}
	Any orientation-preserving diffeomorphism of a compact Riemann surface fixes at least 1 spin structure.
\end{corollary}

It is now to ask how many such structures an automorphism can preserve, and how many automorphisms are there that preserve a given structure.\\
We begin with the first question:
\begin{theorem}
	Take $f \in \Aut(X)$, let $M \in SL_{2g}(\mbb{Z})$ be the matrix representing $f_\ast : H_1(X,\mbb{Z}) \to H_1(X, \mbb{Z})$ wrt a particular homology basis, and $\bar{M}=M \, (\text{mod }2)$. Spin structures invariant under $f$ are in bijection with solutions $x \in F_2^{2g}$ of the equation 
	\eq{
(\bar{M}^T-I)x=0	
}
Then $f$ leaves $2^h$ spin structures invariant, where $h = \dim E_1(\bar{M})$. 
\end{theorem}
\begin{proof}
 To do this we can see from lemma \ref{lemma: preserving quadratic gives fixed point} that spin structures invariant under $f \in \Aut(X)$ correspond to solutions of $(A-I)y=b$ where $x \mapsto Ax+b$ is the induced transform on $H^1(X,F_2)$ from $f$. Given we know we always have one solution, which we will denote $y_0$, we can consider the difference $x=y-y_0$ for any other solution to see that invariant spin structures biject with solutions of 
\eq{
(A-I)x=0
}
Now given a homology basis specifying $M$, we have a dual basis of $H^1(M,\mbb{Z})$, and the induced transform from $f$ is represented by the matrix $M^T$. If we restrict to coefficients mod 2 the corresponding effect on the transform matrix is to take the coefficients mod 2. This means we have $A = \bar{M}^T$. 
\end{proof}
\begin{remark}
	You may, like me, have been initially confused as to why the cohomology $H^1(X,F_2)$ has dimension $2g$, when we typically think of a cohomology basis as being a basis of $g$ differentials. \hl{different type of cohomology? or differentials we ask to be abelian}. 
\end{remark} 

It is then possible to extend this to find exactly which cohomology classes $\xi \in H^1(U(X),F_2)$ correspond to invariant spin structures. Let $e \in H_1(U(X),F_2)$ be the homology corresponding to the $U(1)$ generator. We can get a basis of $H_1(U(X),F_2)$ from a basis of $H_1(X,\mbb{Z})$, $\pbrace{\delta_i}_{i=1}^{2g}$, by lifting the cycles $\delta_i$ to a cycle $\tilde{\delta}_i$ and including $e$. 
Let $\eta \in H^1(U(X),\mbb{Z})$ be its dual, so our full cohomology basis of $H^1(U(X),\mbb{Z})$ is $\pbrace{d_i,\eta}$. Denote their projection to $H^1(U(X),F_2)$ with an overline. 
\begin{remark}
	In this basis, with have the set of spin structures is 
	\eq{
\pbrace{\bar{\eta} + \sum_i y_i \bar{d}_i \, | \, y_i \in F_2}	
}
\end{remark}
The corresponding map of $U(X)$ induced from $f$ only acts on the base, so the corresponding effect on $e$ is $f_\ast(e)=e$. 
To calculate $f_\ast(\tilde{\delta}_i)$ we need a lemma from \cite{Johnson1980}:
\begin{lemma}
	For $a,b \in H_1(X,\mbb{Z}), \, \widetilde{(a+b)} = \tilde{a} + \tilde{b} + (a \circ b)e$. 
\end{lemma}
\begin{corollary}
	$f_\ast(\tilde{\delta}_i) = M_{ij} \tilde{\delta}_j + b_i e$ where 
	\eq{
v_i = \sum_{1 \leq j_1 < j_2} M_{ij_1} M_{ij_2} (\delta_{j_1} \circ \delta_{j_2})
}
\end{corollary}
\begin{proof}
	We have that $\tilde{f_\ast(a)} = f_\ast(\tilde{a})$ and so using $f_\ast(\delta_i) = M_{ij} \delta_j$ we have 
	\eq{
f_\ast(\tilde{\delta}_i) &= M_{i1}\tilde{\delta}_1 + \widetilde{\pround{\sum_{j>1} M_{ij} \delta_j}} + \pround{M_{i1}\delta_1 \circ \sum_{j>1}M_{ij} \delta_j}e \\
&= \dots \\
&= M_{ij} \tilde{\delta}_j + \psquare{\sum_{1 \leq j_1 < j_2} M_{ij_1} M_{ij_2} (\delta_{j_1} \circ \delta_{j_2}) }e
}
\end{proof}
Using the duality condition we can work out $f^\ast(\eta)$. With this we can formulate an equation for a spin structure to be invariant. 
\begin{theorem}
	A spin structure $\xi = \bar{\eta} + \sum_i y_i \bar{d}_i$ is invariant under $f$ if 
	\eq{
(A-I)y = b	
}
with $A=\bar{M}^T, \, b=-\bar{v}$.   
\end{theorem}

From our understanding of the matrix $A$, we can then get a following result:

\begin{prop}
	If $f$ is an automorphism of odd order $n$, then $f$ leaves only 1 spin structure fixed iff the associated orbit space $X/\mbb{Z}_n$ has genus 0. 
\end{prop}

\begin{theorem}
	Non-identity $f \in \Aut(X)$ preserves every spin structure iff $X$ is hyperelliptic and $X$ is the hyperelliptic involution. 
\end{theorem}

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\section{Extended example}
Here we will now take a specific curve and consider all the theory we have previously covered. To this we will effectively go through Miranda \cite{Miranda1995} and apply the relevant sections. \\
Define the degree-$6$ homogeneous polynomial $P:\mbb{C}^3 \to \mbb{C}$ by 
\eq{
	P(x,y,z) = y^6 - x^6 + z^2 x^4
}
Define the corresponding projective plane curve 
\eq{
	X = \pbrace{[x:y:z] \in \mbb{P}^2 \, | \, P(x,y,z) = 0}
}
Throughout we will want to compare our by-hand calculations with numerics in Sage, so we start by initialising $X$. 
\begin{lstlisting}[language=Python,frame=single]
sage: x,y,z = QQ['x,y,z'].gens()
sage: X = Curve(y^6-x^6+z^2*x^4)
\end{lstlisting}

\subsection{Singularities}

The corresponding affine plane curve on the intersection with the open set $U_x = \pbrace{x \neq 0}$ is $y^6 = 1-z^2$. Hence 
\eq{
	X = \pbrace{[1:y:z] \, | \, y^6 = 1-z^2} \cup \pbrace{[0:0:1]}
}
\begin{prop}
	$X$ is singular at $[0:0:1]$ only. 
\end{prop}
\begin{proof}
	We have 
	\eq{
		\pd[P]{x} &= 2x^3(2z^2 -3x^2), & \pd[P]{y} &= 6y^5, & \pd[P]{z} &= 2zx^4	
	}
	It can be seen that a common solution to these must have $y=0$ from $\del_y P=0$, and then either $z=0$  or $x=0$ from $\del_zP=0$. If $z=0$, $\del_zP=0$ enforces $x=0$ which isn't in $\mbb{P}^2$. If $x=0$, $z$ is arbitrary and we find the point $[0:0:1] \in \mbb{P}^2$. This is calculated in Sage as follows:
	\begin{lstlisting}[language=Python,frame=single]
	sage: X.singular_points()
	[(0 : 0 : 1)]
	\end{lstlisting}
\end{proof}
We need to get an understanding of this singularity. If we take the neighbourhood $U_z = \pbrace{z \neq 0}$ the corresponding affine plane curve on the intersection is 
\eq{
	p(x,y) = y^6-x^6+x^4 = 0
}
as 
\eq{
	X = \pbrace{[x:y:1] \, | \, y^6-x^6+x^4=0} \cup \pbrace{[x:y:0] \, | \, y^6-x^6=0}
}
\begin{prop}
	The only singular point on the affine plane curve $p(x,y)=0$ is $(0,0)$ and it is $2$-monomial. 
\end{prop}
\begin{proof}
	$\del_x p(x,y) = 2x^3(2-3x^2), \, \del_y p(x,y) = 6y^5$. It can be seen that the only simultaneous solution to these is  $(0,0)$. Here we write $p(x,y)=g(x,y)^4 - h(x,y)^6$ where
	\eq{	
		g(x,y) &= x\psquare{1 - \frac{1}{4}x^2 + \dots} = x\psquare{1-x^2}^\frac{1}{4} \\
		h(x,y) &= iy
	}
	We then note $\gcd(4,6) = 2$. 
\end{proof}
As such by general theory we know that we can resolve this singularity to make $X$ into a compact Riemann surface. This process involves removing the singularity at $[0:0:1]$ and patching the two holes created. 

\subsection{Genus}

We now check some topology using Riemann-Hurwitz. 
\begin{prop}
	$g(X) = 2$.
\end{prop}
\begin{proof}
	As standard we consider the map $X\to \mbb{P}^1$ taking the coordinate $y$. Then $z$ is generically double valued so the degree of the map is 2. This is ramified at the the 6 roots of $1-y^6=0$, so using $g(\mbb{P}^1)$
	\eq{
		g(X) = 1+2(0-1)+\frac{1}{2} \times 6 \times (2-1) = 1-2+3=2
	}
	This is calculated in Sage as follows:
	\begin{lstlisting}[language=Python,frame=single]
	sage: X.genus()
	2
	\end{lstlisting}
\end{proof}
\begin{remark}
	This is to be expected, as here we are dealing with a hyperelliptic curve, of the form $z^2=h(y)$ where $h$ is a polynomial of degree $2g+2$. 
\end{remark}

\subsection{Symmetries}
From the above prop we have the following corollary.
\begin{corollary}
	Through Hurwitz' theorem we know $\abs{\Aut(X)} \leq 84$.
\end{corollary}
This is a very lax bound, we know many groups of order $\leq 84$. We now try to calculate $\Aut(X)$ more systematically. Firstly we note that as a hyperelliptic curve it comes with the hyperelliptic involution $(y,z) \mapsto(y,-z)$ generating a $C_2$ symmetry. We also have a $D_6$ dihedral group of automorphisms generated by $r:(y,z) \mapsto (\zeta y, z)$ and $s:(y,z) \mapsto (1/y,iz/y^3)$ where $\zeta = e^{\frac{i\pi}{3}}$. We can check that as $\zeta^3=-1$ 
\eq{
	srs:(y,z) \mapsto (1/y,iz/y^3) \mapsto (\zeta/y,i z/y^3) \mapsto (\zeta^{-1}y,i^2 \zeta^{-3}z) = (\zeta^{-1}y,z)
}
giving $srs=r^{-1}$ as required from the dihedral group. The hyperelliptic involution commutes with this dihedral action, so in total we have found a $\Aut(X) \geq C_2 \times D_6$. As $\abs{C_2 \times D_6}=24$, by Hurwitz' theorem we know that we could have at most one other automorphism of order either 2 or 3. This turns out not to be the case, and to see a general classification see for example \cite{Muller2017}. \\
To do the calculation in Sage, not we can use a result in \cite{Lauter2001} (translated \href{https://www.arxiv-vanity.com/papers/1811.07007/}{here}):
\begin{lemma}
	If $X$ is a hyperelliptic curve then $\Aut(J(X),a) \cong \Aut(X)$ where $a$ is the canonical principal polarisation of the Jacobian. 
\end{lemma}
This allows us to calculate in Sage:
\begin{lstlisting}[language=Python,frame=single]
sage: A.<u,v> = QQ[]
sage: Mod = sage.schemes.riemann_surfaces.riemann_surface
sage: S = Mod.RiemannSurface(u^2-1+v^6)
sage: G = S.symplectic_automorphism_group()
sage: G.structure_description()
'(C6 x C2) : C2'
\end{lstlisting}
\begin{remark}
	Note that above Sage is acting as a GAP wrapper. The formatting translates to say $G \cong (C_6 \times C_2) \rtimes C_2$
\end{remark}

\subsection{Riemann's Bilinears and Period Matrices}

We now view our curve $X$ as a 6-fold covering of $\mbb{P}^1$ with branch points at $z=\pm 1$. We want to first calculate the monodromy associated to encircling these points, so let $\gamma_\pm$ be a curve in $\mbb{P}^1$ that encircles $\pm 1$ once anticlockwise (explicitly choose a circle of small radius $\eps$). On $\gamma_\pm$ take $z = \pm1 + \eps e^{i\theta}$. \\
As we recall $y^6 = 1-z^2$, on $\gamma_+$ we see 
\eq{
	y^6 = -\eps e^{i\theta}\pround{2+\eps e^{i\theta}}
} 
and on $\gamma_-$ 
\eq{
	y^6 = \eps e^{i\theta}\pround{2-\eps e^{i\theta}}
}
To both of these the associated monodromy can be written as $\zeta$ the fundamental solution to $\zeta^6=1$ as before, where we mean that multiplying by $\zeta$ acts as the cycle of sheets that corresponds to the paths $\gamma_\pm$. Observe then that the curve $\gamma = \gamma_+ - \gamma_-$ (a figure of 8 if we deform so the curves intersect at $z=0$) has associated monodromy 0, but is non-contractible, and so corresponds to cycles on $X$. Moreover, by changing the sheet the lift starts on we get actually get $6$ distinct cycles, and we can choose them to have the right intersection numbers we would want of a canonical homology basis. Explicitly we take
\eq{
	a_1 &= \gamma:(1 \to 2 \to 1) \\
	b_1 &= \gamma:(2 \to 3 \to 2) \\
	a_2 &= \gamma:(4 \to 5 \to 4) \\
	b_2 &= \gamma:(5 \to 6 \to 5)
}
where hopefully the notation is self-explanatory. 
\begin{remark}
	\hl{One might ask, how do we know these have the right orientation to get the correct intersection?}
\end{remark}
To determine what forms we need to integrate to get the period matrix we recall a statement in Miranda (pg 112)
\begin{lemma}
	Suppose that $X$ is a projective plane curve of degree $d$ $F(x,y,z)=0$ where $F(x,y,1)=f(x,y)$ then if $p(x,y)$ is a polynomial of degree at most $d-3$ then 
	\eq{
		p(x,y)\frac{dx}{\pround{\pd[f]{y}}}	
	} 
	is a holomorphic differential. 
\end{lemma}
This applies to tell us that we can get a basis of holomorphic on differentials on $X$ with $\pbrace{\frac{dz}{y^5}, \frac{dz}{y^4}}$. 
\begin{remark}
	The polynomials $p$ we are taking here are actually $6, 6y$. We know that we only need $g=2$ of them so be sufficient. 	
\end{remark}
Now we can explicitly calculate. We fix the 1st sheet by asking that $y(z=0)=1$. We then set a normalisation our basis called $\omega_1, \omega_2$ respectively by asking that \eq{
	\int_{a_1} \omega_i = 1
}.
\begin{remark}
	This can be done as over our cycles the forms will not integrate to zero, as can be seen for example with 
	\eq{
		\int_{a_1} \frac{dz}{y^5} = (1-\zeta^{-5})\int_{-1}^1 \frac{dz}{(1-z^2)^{5/6}} = (1-\zeta)B\pround{\frac{1}{2}, \frac{1}{6}} \\
		\int_{a_1} \frac{dz}{y^4} = (1-\zeta^{-4})\int_{-1}^1 \frac{dz}{(1-z^2)^{4/6}} = (1-\zeta^2)B\pround{\frac{1}{2}, \frac{1}{3}}
	}
	where to do the above calculation we have used 
	\eq{
		\int_{-1}^1 \frac{dx}{(1-x^2)^\alpha} = 2 \int_0^1 \frac{dx}{(1-x^2)^\alpha} = \int_0^1 t^{-\frac{1}{2}} (1-t)^{-\alpha} dt = B\pround{\frac{1}{2}, 1-\alpha}
	}
	One might wonder \hl{is there a way to use the Pochhammer contour as part of the homology basis} to recreate this result slightly more easily? 
\end{remark}
We can get onto other sheets just by multiplying $y$ by powers of $\zeta$, so for example we can calculate that 
\eq{
	\int_{b_1} \omega_1 &= \zeta^{2\times -5}\psquare{(0 \mapsto 1) + \zeta^{-1\times -5}(1\mapsto -1) + (-1 \mapsto 0)} \\
	&= \zeta^{-10}(1-\zeta^5)(-1 \mapsto 1) \\
	&= -\zeta^{-5}(1-\zeta^{-5})(-1 \mapsto 1) 
}
and following this through we get that the period matrix is 
\eq{
	\Omega = \begin{pmatrix} 1 & \zeta^{-5(4-1)} & \zeta^{-5(2-1)} & \zeta^{-5(5-1)} \\ 1 & \zeta^{-4(4-1)} & \zeta^{-4(2-1)} & -\zeta^{-4(5-1)}\end{pmatrix} = \begin{pmatrix} 1 & -1 & \zeta & -\zeta \\ 1 & 1 & \zeta^2 & \zeta^2 \end{pmatrix}
}
and so 
\eq{
	\tau = \frac{\zeta}{2} \begin{pmatrix} 1 & 1 \\ -1 & 1 \end{pmatrix} \begin{pmatrix} 1 &  -1 \\ \zeta & -\zeta \end{pmatrix} &= \frac{\zeta}{2} \begin{pmatrix} 1+\zeta & -(1-\zeta) \\ -(1-\zeta) & 1+\zeta \end{pmatrix} = \frac{1}{2} \begin{pmatrix} \sqrt{3}i & -1 \\ -1 & \sqrt{3}i \end{pmatrix}
}
\begin{comment}
\eq{
\Omega = \begin{pmatrix} (1-\zeta)B\pround{\frac{1}{2}, \frac{1}{6}} & \zeta^{-15} (1-\zeta)B\pround{\frac{1}{2}, \frac{1}{6}} & -\zeta^{-10} (1-\zeta)B\pround{\frac{1}{2}, \frac{1}{6}} & -\zeta^{-25} (1-\zeta)B\pround{\frac{1}{2}, \frac{1}{6}} \\ (1-\zeta^2)B\pround{\frac{1}{2}, \frac{1}{3}} & \zeta^{-12} (1-\zeta^2)B\pround{\frac{1}{2}, \frac{1}{3}} & -\zeta^{-8} (1-\zeta^2)B\pround{\frac{1}{2}, \frac{1}{3}} & -\zeta^{-20} (1-\zeta^2)B\pround{\frac{1}{2}, \frac{1}{3}}\end{pmatrix}
}
We can calculate 
\eq{
\frac{B\pround{\frac{1}{2}, \frac{1}{6}}}{B\pround{\frac{1}{2}, \frac{1}{3}}} &= \frac{\Gamma(1/2) \Gamma(1/6)}{\Gamma(2/3)} \frac{\Gamma(5/6)}{\Gamma(1/2)\Gamma(1/3)} = \frac{\pi/\sin(\pi/6)}{\pi/\sin(\pi/3)} =\sqrt{3}
}
and so 
\eq{
\Omega \propto \begin{pmatrix} \sqrt{3} & -\sqrt{3} &  -\sqrt{3}\zeta^2  & -\sqrt{3}\zeta^5 \\ 1+\zeta & 1+\zeta & -\zeta^4(1+\zeta) & -\zeta^4(1+\zeta) \end{pmatrix}
}

This means we can calculate the Riemann matrix to be 
\eq{
\tau = \frac{1}{2\sqrt{3}(1+\zeta)}\begin{pmatrix} 1+\zeta & \sqrt{3} \\ -(1+\zeta) & \sqrt{3} \end{pmatrix} \begin{pmatrix} -\sqrt{3}\zeta^2 &  \sqrt{3} \zeta^2 \\ \zeta(1+\zeta) & \zeta(1+\zeta) \end{pmatrix} &= \frac{\zeta}{2}\begin{pmatrix}1-\zeta & 1+\zeta \\ 1+\zeta & 1-\zeta \end{pmatrix} \\
&= \frac{1}{2}\begin{pmatrix} 1 & \sqrt{3}i \\ \sqrt{3}i & 1 \end{pmatrix}
}
\\
\end{comment}
This can be calculated numerically in Sage as below (output formatted to fit in the document):
\begin{lstlisting}[language=Python,frame=single]
sage: S.period_matrix()
[ -0.6-1.1*I  0.6+1.1*I 1.2+0.0*I -1.2+0.0*I]
[ -1.1-0.6*I -1.1-0.6*I 0.0-1.2*I  0.0-1.2*I]
sage: S.riemann_matrix()
[ 0.000+0.866*I 0.500+0.000*I]
[ 0.500+0.000*I 0.000+0.866*I]
\end{lstlisting}
\begin{remark}
	\hl{These numerical results seem to suggest the analytic answer is wrong, and that I should really be finding}
	\eq{
		\Omega \sim \begin{pmatrix} 1 & -1 &  \zeta^2  & -\zeta^2 \\ 1 & 1 & \zeta & \zeta \end{pmatrix}
	}	
	giving 
	\eq{
		\tau = \frac{1}{2} \begin{pmatrix} 1 & 1 \\ -1 & 1 \end{pmatrix} \begin{pmatrix} \zeta^2 &  - \zeta^2 \\ \zeta & \zeta \end{pmatrix} &= \frac{\zeta}{2} \begin{pmatrix} 1+\zeta & 1-\zeta \\ 1-\zeta & 1+\zeta \end{pmatrix} = \frac{1}{2} \begin{pmatrix} \sqrt{3}i & 1 \\ 1 & \sqrt{3}i \end{pmatrix}
	}
\end{remark}


\begin{remark}
	Because of the action of both the modular group and the general linear group on $\Omega$, it is difficult to inspect the computed answer to see if it is correct. This is less true of $\tau$, for which the induced action of the general linear group is trivial, but we retain a the action of the modular group now through matrix-valued fractional linear transforms.  
\end{remark}

\begin{remark}
	We could also try this calculation viewing $X$ as a standard hyperelliptic. General theory says that we have a basis of $\Omega^1(X)$ given by 
	\eq{
		\pbrace{\omega_j = \frac{y^j dy}{z}}_{j=0}^{g-1}
	}
	and a generating set of $H_1(X,\mbb{Z})$ given by a suitable choice of independent closed paths $c = \gamma_1 - \gamma_2$ where $\gamma_i$ are the two lifts of a path in $\mbb{P}^1$ between branch points of the map $X \to \mbb{P}^1$. In order to find the period matrices explicitly we need to calculate 
	\eq{
		\int_c \omega_j 
	}
	for these loops c. To be explicit for the paths in the base that we choose we take 
	\eq{
		a_1 &= \pbrace{e^{\frac{it\pi}{3}} \, | \, t \in [0,1]} \\
		b_1 &= \pbrace{e^{\frac{i(t+1)\pi}{3}} \, | \, t \in [0,1]} \\
		a_2 &= \pbrace{e^{\frac{i(t+3)\pi}{3}} \, | \, t \in [0,1]} \\
		b_2 &= \pbrace{e^{\frac{i(t+5)\pi}{3}} \, | \, t \in [0,1]}  
	}
\end{remark}

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\section{\secmath{g=2}}
If we restrict to the case of studying Riemann surfaces with genus $2$, we can further start to say more specific things. 
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\subsection{Classification by automorphisms}
Costa \cite{Costa2001} and Bolza \cite{Bolza1887} have classified genus $2$ hyperelliptic curves according to their automorphism groups. We can give a list of these using standard presentations of the curve in the form $y^2=p(x)$, where $p$ is a polynomial of degree $5$ or $6$:\\
\hl{insert table here}\\
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\subsection{\secmath{D_6}}
We now want to investigate the period matrix of a general $D_6$ curve. To do this we recall two forms:
\eq{
y^2 = x(x-1)\pround{x-\lambda}\pround{x-\frac{1}{1-\lambda}}\pround{x-\frac{\lambda-1}{\lambda}} \text{ and } y^2 = (x^3-\alpha^3)(x^3-\alpha^{-3})
}
where restrictions on the value of $\lambda,\alpha$ will apply. We will write $\alpha^3 + \alpha^{-3} = -b$ so we have for the second form $y^2 = x^6+bx^3+1$, and view this as a sixfold cover of $\mbb{P}^1$ with coordinate $y$. We will assume for later that $b\in\mbb{R}_{>0}$. Here we can write the generators of the symmetry as 
\eq{
s:(x,y) \to (\rho x,y), \quad r:(x,y) \to (1/x, y/x^3)
}
where $\rho = \exp(2\pi i/3)$. Because of the $y \mapsto -y$ symmetry from the hyperelliptic involution we know that the monodromy around $\pm 1$ must be the same, and so we can get a closed curve $a$ from a figure of 8 around the two branch points. We can then get a homology basis by shifting the sheet appropriately. For now we will specify this to mean 
\eq{
a_1 = a+ra, \, a_2 = sa-rsa, \, b_1 = sa, \, b_2 = ra
}
Braden shows in his notes that if we choose the differentials 
\eq{
\omega_1 = (1-x) \frac{dx}{y}, \, \omega_2 = (1+x) \frac{dx}{y}
}
we get the Riemann matrix 
\eq{
\tau = \begin{pmatrix} -\frac{1}{4} + \frac{1+2\rho}{2}R & \frac{1}{2} \\ \frac{1}{2} & \frac{R}{R-(1+2\rho)} \end{pmatrix}
}
where 
\eq{
R = \frac{\int_a \omega_2}{\int_a \omega_1}
}
We want to now calculate this $R$ explicitly. To fix the sheet of $a$ and work out the monodromy explicitly, we let $y=1+\eps e^{i\theta}$ for small $\eps >0$, then 
\eq{
1 + 2\eps e^{i\theta} + \mc{O}(\eps^2) = x^6+bx^3+1 &\Rightarrow x_n(\theta) = \pround{\frac{2\eps}{b}}^{\frac{1}{3}}e^{\frac{i\theta}{3}}\rho^n + \mc{O}(\eps^\frac{2}{3}) \\
&\text{or } x_n(\theta) = b^\frac{1}{3} e^\frac{\pi i}{3}\rho^n+\mc{O}(\eps^\frac{1}{3})
}
We can get the same about $-1$ if we introduce an additional factor of $e^\frac{i\pi}{3}$ with every $\eps^\frac{1}{3}$. Hence we fix $a$ by asking that it starts at $y=1-\eps$ with $x\approx -\pround{\frac{2\eps}{b}}^{\frac{1}{3}}$ and immediately encircles $y=1$ anticlockwise. Now note that at $y=0$, our sheets correspond to real solutions of 
\eq{
x^6+bx^3+1 = 0 = (x^3)^2 + b(x^3) + 1
}
We can see the two orbits of sheets that are not related by monodomy around $\pm 1$, given by $x_\pm^3 = \frac{-b \pm \sqrt{b^2-4}}{2} = \alpha^{\pm3}$, and then each of these corresponds to 3 sheets from the 3 possible cube roots. For simplicity we assume $b>4$ further so we can define $\alpha$ to be the real cube root. Hence we find
\eq{
 \int_a \frac{dx}{y} &= \rho \int_0^\alpha \frac{dx}{\sqrt{(x^3-\alpha^3)(x^3-\alpha^{-3})}} + \rho \int_\alpha^0 \frac{dx}{-\sqrt{(x^3-\alpha^3)(x^3-\alpha^{-3})}} \\
& \phantom{=} + \int_0^\alpha \frac{dx}{-\sqrt{(x^3-\alpha^3)(x^3-\alpha^{-3})}} + \int_\alpha^0 \frac{dx}{\sqrt{(x^3-\alpha^3)(x^3-\alpha^{-3})}} \\
&= 2(-1+\rho)\int_0^\alpha \frac{dx}{\sqrt{(x^3-\alpha^3)(x^3-\alpha^{-3})}}
}
and likewise
\eq{
\int_{a} \frac{xdx}{y} = 2(-1+\rho^2)\int_0^\alpha \frac{xdx}{\sqrt{(x^3-\alpha^3)(x^3-\alpha^{-3})}}
}
If we introduce the notation 
\eq{
F &= \int_0^\alpha \frac{dx}{\sqrt{(x^3-\alpha^3)(x^3-\alpha^{-3})}}, & G &= \int_0^\alpha \frac{xdx}{\sqrt{(x^3-\alpha^3)(x^3-\alpha^{-3})}}
}
Hence we can calculate, using that $\rho^2+\rho+1=0$
\eq{
R = \frac{(-1+\rho)F +(2+\rho)G}{(-1+\rho)F-(2+\rho)G}
}
To do the integrals $F,G$ we let $u = x^3, \, \frac{1}{3}u^{-\frac{2}{3}} du = dx$ so (for example)
\eq{
F &= \frac{1}{3}\int_0^{\alpha^3} u^{-\frac{2}{3}}(\alpha^3-u)^\frac{-1}{2} (\alpha^{-3}-u)^\frac{-1}{2} \, du \\
&= \frac{\alpha}{3} \int_0^1 v^{-\frac{2}{3}} (1-v)^{-\frac{1}{2}} (1-\alpha^6 v)^{-\frac{1}{2}} \, dv \\
&= \frac{\alpha}{3} B\pround{1/3,1/2} \tensor[_2]{F}{_1}\pround{1/2,1/3;5/6;\alpha^6}
}
setting $v = \alpha^3 u$, and so likewise 
\eq{
G = \frac{\alpha^2}{3} B\pround{2/3,1/2} \tensor[_2]{F}{_1}\pround{1/2,2/3;7/6;\alpha^6}
}

\begin{remark}
	With some hypergeometric gymnastics one should be able to prove that 
	\eq{
i \frac{\tensor[_2]{F}{_1}\pround{1/2,1/2;1;1-\lambda(\alpha)}}{\tensor[_2]{F}{_1}\pround{1/2,1/2;1;\lambda(\alpha)}}+\frac{\rho(\rho + \mc{I}(\alpha))}{1+\mc{I}(\alpha)} =0	
}
where 
\eq{
	\lambda(\alpha) &= (\alpha^2-1)^3 \psquare{r(\alpha-1)^2(\alpha-r)^3(\alpha+r)}^{-1}, & \mc{I}(\alpha) &= \alpha \frac{B\pround{2/3,1/2} \tensor[_2]{F}{_1}\pround{1/2,2/3;7/6;\alpha^6}}{B\pround{1/3,1/2} \tensor[_2]{F}{_1}\pround{1/2,1/3;5/6;\alpha^6}}
}
with $r = \exp(i\pi/3), \, \rho=r^2$. 
\end{remark}

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\part{Elliptic Curves}
An important class of Riemann surfaces are those with genus $1$. It turns out \hl{(ref?)} that these are all a special class of curve called elliptic curve. These come with their own interesting properties which we introduce here. 


%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\section{Periodic Functions}

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\subsection{Generic results}

We will start with some general results about periodic complex functions. We fix $f:\mbb{C} \to \mbb{C}$ to be a non-constant meromorphic single valued function. 

\begin{lemma}
	The periods of $f$ form a $\mbb{Z}$-module $L$ 
\end{lemma}

\begin{prop}
	$L$ is either 
	\begin{itemize}
		\item trivial, ($=0$)
		\item rank 1, ($=\omega \mbb{Z}$)
		\item rank 2, ($=\omega_1 \mbb{Z} \oplus \omega_2 \mbb{Z}$)
	\end{itemize}
\end{prop}

\begin{definition}
	A function with rank-2 $L$ is called an \bam{elliptic function} and $L$ is called the \bam{period lattice}. 
\end{definition}

\begin{definition}
	Given a period lattice $L$, a choice of $\omega_1, \omega_2$ s.t.  $L = \omega_1 \mbb{Z} \oplus \omega_2 \mbb{Z}$ is called a \bam{primitive pair}. For a primitive pair we call $\tau = \frac{\omega_2}{\omega_1}$ the \bam{period ratio}. 
\end{definition}

It is common, as we will do now, to restrict the period ratio to have real imaginary part

\begin{prop}
	Any pairs of primitive pairs are related by a fractional linear transform $\in SL(2,\mbb{R})$. The corresponding period ratios are related by a map in the modular group
\end{prop}

\begin{definition}
	An \bam{elliptic function field} is the class $K =K(X)$ of functions of rational character on the complex torus $X$
\end{definition}

\begin{remark}
	Idefintifying $X$ with $\faktor{\mbb{C}}{L}$ is equivalent to identifying $K(X)$ with double periodic functions on the universal cover of $X$, $\mbb{C}$.
\end{remark}

\begin{prop}
	$K(X)$ is a differential field with differential $\frac{d}{dz}$ inherited from the coordinate $z$ on the universal cover.  
\end{prop}

\begin{prop}
	$\deg f = 0$ iff $f$ is constant
\end{prop}
\begin{proof}
	$\deg(f) = 0$ iff $f$ has no poles. Pulling back to a doubly periodic function on $\mbb{C}$, it is a bounded entire function, so constant by Liouville's theorem. 
\end{proof}

\begin{lemma}
	Let $f \in K(X)$. Then 
	\eq{
		\oint_{\del \mf{F}(X)} f(z) \, dz = 0 	
	}
\end{lemma}
\begin{proof}
	Use periodicity of the function. 
\end{proof}

\begin{remark}
	This can be used to show $\sum_{p\in X} \ord_p(f)=0$ for $X$ a complex torus, by considering the integral of $\frac{1}{2\pi i}\frac{f^\prime}{f} \in K(X)$
\end{remark}

This result has some powerful corollaries, which we will see here now:

\begin{prop}
	$\forall f \in K(X), \, \deg f \neq 1$.
\end{prop}
\begin{proof}
	If $\deg f = 1$ then the residue at the pole is 
	\eq{
		\frac{1}{2\pi i} \oint_{\del \mf{F}(X)} f(z) \, dz = 0	
	}
	so there is no pole. 
\end{proof}

\begin{prop}
	Take $f \in K(X)$ and let $p_1, \dots, p_d$ be the zeros, $q_1, \dots, q_d$ the poles. Then 
	\eq{
		\sum p_i  - q_i \in L
	} 
\end{prop}
\begin{proof}
	Let $L = L(\omega_1, \omega_2)$
	\eq{
		\sum p_i  - q_i &= \frac{1}{2\pi i}\oint z d(\log f(z)) \\
		&= \frac{1}{2\pi i} \pbrace{\int_0^{\omega_1} \psquare{z - (z+\omega_2)}d(\log f(z)) - \int_0^{\omega_2} \psquare{z - (z+\omega_1)} d(\log f(z)) } \\
		&= \omega_1 \underbrace{\psquare{\frac{1}{2\pi i}\int_0^{\omega_2} d(\log f(z))}}_{\in \mbb{Z}} - \omega_2  \underbrace{\psquare{\frac{1}{2\pi i}\int_0^{\omega_1} d(\log f(z))}}_{\in \mbb{Z}}
	}
	where we know the integrals are integer values as $f$ takes the same values at the corners, so the argument must differ by an element of $2\pi i \mbb{Z}$
\end{proof}

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\subsection{Automorphisms}

\begin{prop}
	Complex torus $X$ always have bijective automorphisms $z \mapsto z+c, \, z \mapsto -z$. The only involutions are the reflection $z \mapsto -z$ and addition of half periods. 
\end{prop}

\begin{remark}
	Note that every complex torus $X$ admits the bijective automorphism descending from the map $\mbb{C} \to \mbb{C}, \ ,z \mapsto n z$ for $n \in \mbb{Z}\setminus 0$
\end{remark}

\begin{definition}
	The complex torus $X$ with primitive periods $\omega_1, \omega_2$ is said to \bam{admit complex multiplication} if $\exists f$ an automorphism $f(z) = cz$ for some $c \in \mbb{C}\setminus\mbb{Z}$. In this we have $i,j,k,l \in \mbb{Z}$ s.t.
	\eq{
		c \omega_2 &= i \omega_2 + j \omega_1 \\
		c \omega_1 &= k \omega_2 + l \omega_1	
	}
	i.e. $\frac{\omega_2}{\omega_1}$ is a fixed points of the fractional linear transform $\begin{psmallmatrix} i & j \\ k & l \end{psmallmatrix}$. 
\end{definition}

\begin{lemma}
	The period ratio is a quadratic irrationality from the field $\mbb{Q}[\sqrt{(i+l)^2 - 4(il-jk)}]$
\end{lemma}

\begin{prop}
	Suppose $X$ is a complex torus admitting complex multiplication via a bijective automorphisms, then the period ratio is either $i$ or $e^{\frac{\pi i}{3}}$. 
\end{prop}

\begin{remark}
	To see more about homomorphisms of complex tori, see \S1.2 of \cite{Birkenhake2004}.
\end{remark}


%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\subsection{Theta Functions}
We start this section with a warning. There are \emph{many} different ways of writing theta functions, and so you will need to be on your toes to connect those in these notes with those in other documents. These will start with the definition in 

\begin{definition}
	For $\tau \in \mbb{C}, \, \image(\tau)>0$, define the \bam{Riemann theta function} 
	\eq{
		\theta(z) = \theta(z|\tau) = \sum_{n \in \mbb{Z}} e^{\pi i\psquare{n^2 \tau + 2nz}}	
	}
\end{definition}

\begin{remark}
	This is the definition given in Miranda and on Wikipedia (as of June 2020). 
\end{remark}

\begin{prop}
	The series converges absolutely and uniformly on compact subset of $\mbb{C}$. Hence $\theta$ is an analytic function on $\mbb{C}$. 
\end{prop}

\begin{prop}
	We have 
	\eq{
		\theta(z+1) &= \theta(z) \\
		\theta(z+\tau) &= e^{-\pi i\psquare{\tau +2z}}\theta(z)
	}
\end{prop}

\begin{corollary}
	$\theta(z_0) \Leftrightarrow \forall m,n \in \mbb{Z}, \, \theta(z_0 + m + n\tau)=0$ and the order of the zero is the same
\end{corollary}

\begin{prop}
	The only zeros of $\theta$ are 
	\eq{
		\frac{1+\tau}{2} + L(1,\tau)	
	}
	and all these zeros are simple. 
\end{prop}

\begin{definition}
	The \bam{translated theta function} is 
	\eq{
		\theta^{(x)}(z) = \theta\pround{z - (\sfrac{1}{2}) - (\sfrac{\tau}{2}) - x}	
	}
\end{definition}

\begin{definition}
	The \bam{Jacobi theta functions} are 
	\eq{
		\theta_1(z | \tau) = 	
	}
\end{definition}
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\subsection{Jacobi Elliptic Functions}

\begin{definition}
	The \bam{sinus amplitudinus} function is $sn:\mbb{C} \to \mbb{C}$ given by 
	\eq{
		x = \int_0^{sn(x,k)} \frac{dy}{\sqrt{(1-y^2)(1-k^2 y^2)}}
	}
\end{definition}

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\subsection{\secmath{\text{The Weierstrass $\wp$ Function}}}

From our discussion of doubly-periodic functions, we know the minimal degree of a non-constand function is 2, so the simplest possible cases are 
\begin{itemize}
	\item two simple poles
	\item one double pole
\end{itemize}
We will construct the latter case.

\begin{definition}
	Pick a complex torus $X$ with lattice $L$. The corresponding \bam{Weierstrass function} is $\wp:\mbb{C} \to \mbb{C}$ 
	\eq{
		\wp(z) = \wp(z | L) = \frac{1}{z^2} + \sum_{\omega \in L\setminus 0} \psquare{\frac{1}{(z-\omega)^2} - \frac{1}{\omega^2}}
	} 
\end{definition}

\begin{prop}
	The infinite sum is convergent and hence the $\wp$ function is well defined.
\end{prop}

\begin{prop}
	$\wp$ has the following properties:
	\begin{itemize}
		\item Even, i.e. $\wp(z) = \wp(-z)$.
		\item Double periodic with period lattice $L$
		\item $\deg \wp = 2$ as a map $\faktor{\mbb{C}}{L} \to \mbb{P}^1$, with only one double pole at $z=0$
		\item $\forall c \in \mbb{C}^\times, \, \wp(cz | cL) = \wp(z | L)$
		\item $\wp^\prime(z) = -2\sum_{\omega \in L} (z-\omega)^{-3}$
		\item $\wp^\prime$ is odd
		\item $\forall \omega \in L, \, \wp^\prime(\sfrac{\omega}{2}) =0$ and the half periods are the only roots. 
		\item Let $\omega_1, \omega_2$ be the primitive roots and $e_1 = \wp(\sfrac{\omega_1}{2}), \, e_2 = \wp(\sfrac{\omega_1}{2} + \sfrac{\omega_2}{2}), \, e_3 = \wp(\sfrac{\omega_2}{2})$. Then $e_1, e_2, e_3$ are distinct.
	\end{itemize}
\end{prop}

\begin{prop}
	$\wp$ satisfies the differential equations 
	\eq{
		\pround{\wp^\prime}^2 &= 4(\wp-e_1)(\wp-e_2)(\wp-e_3) \\
		&= 4\wp^3 -g_2 \wp -g_3	
	}
	where 
	\eq{
		g_2  &= 60\sum_{\omega \in L \setminus 0} \omega^{-4} \\
		g_3 &= 140\sum_{\omega \in L \setminus 0} \omega^{-6}
	}
	are the \bam{invariant of the cubic}
\end{prop}

\begin{remark}
	It is shown in the proof of the above proposition that 
	\eq{
		g_2 &= -4(e_1 e_2 + e_2 e_3 + e_3 e_1) \\
		g_3 &= 4e_1 e_2 e_3	
	}
	and 
	\eq{
		e_1 + e_2 + e_3 = 0
	}
\end{remark}

\begin{remark}
	We will sometimes use the notation $\wp(z) = \wp(z | g_2, g_3)$
\end{remark}

\begin{lemma}
	$g_2^3 - 27g_3^2 = 16(e_1 - e_2)^2(e_2 - e_3)^2 (e_3 - e_1)^2$
\end{lemma}
\begin{proof}
	Consider the polynomial $y^2 = x^3 - \pround{\sfrac{g_2}{4}}x - \pround{\sfrac{g_3}{4}} = (x-e_1)(x-e_2)(x-e_3)$. The discriminant of this cubic is 
	\eq{
		\Delta &= 4 \pround{\sfrac{g_2}{4}}^3 - 27\pround{\sfrac{g_3}{4}}^2 \\
		&= \frac{1}{16} \pround{g_2^3 - 27 g_3^2}
	}
	However, we also know 
	\eq{
		\Delta = \prod_{i < j} (e_i - e_j)^2
	}
\end{proof}


\begin{corollary}
	$\wp^{\prime \prime} = 6\wp^2 - \frac{1}{2}g_2
	$\end{corollary}

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\subsubsection{Addition Theorems}

\begin{prop}
	$\wp(z+w) = \frac{1}{4} \psquare{\frac{\wp^\prime(z) - \wp^\prime(w)}{\wp(z) - \wp(w)}}^2 - \wp(z) - \wp(w)$
\end{prop}
\begin{corollary}
	$\wp(z + \sfrac{\omega_1}{2}) = e_1 + \frac{(e_1 - e_2)(e_1 - e_3)}{\wp(z) - e_1}$ and similar equations for cycles 
\end{corollary}
\begin{proof}
	Start by noting 
	\eq{
		\wp(z+\sfrac{\omega_1}{2}) + \wp(z) + e_1 = \frac{1}{4} \psquare{\frac{\wp^\prime(z)}{\wp(z)-e_1}}^2	
	}
\end{proof}


\begin{corollary}[Duplication Formula]
	$\wp(2z) = \frac{1}{4} \psquare{\frac{\wp^{\prime \prime}(z)}{\wp^\prime(z)}}^2 - 2\wp(z)$
\end{corollary}

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\section{Elliptic integrals}


%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\subsection{Elliptic Integral of the First Kind}
Let us start by stating our assumptions of this section, namely:
\begin{itemize}
	\item $u \in \mbb{R}$
	\item $k \in (0,1)$.
\end{itemize}

We make the following definition:

\begin{definition}
	\bam{Jacobi's incomplete elliptic integral of the first kind} is the map $H\to \mbb{C}$
	\eq{
		x \mapsto \int_0^x \frac{1}{\sqrt{(1-t^2)(1-k^2t^2)}} dt	
	}
	where the integrand is taken to be real and positive for $t \in (-1,1)$, and at the branch points $\pm 1, \pm \frac{1}{k}$ the contour should take an infinitesimal circle above the point (i.e remaining in the UHP). 
\end{definition}

\begin{definition}
	The \bam{complete elliptic integral of the first kind } is 
	\eq{
		K = K(k) = \int_0^1 \frac{dt}{\sqrt{(1-t^2)(1-k^2t^2)}} \in \mbb{R}
	}
	and the \bam{complementary integral of the first kind } is 
	\eq{
		K^\prime = K^\prime(k) = \int_1^\frac{1}{k} \frac{dt}{\sqrt{(t^2-1)(1-k^2t^2)}} \in \mbb{R}
	}
\end{definition}

\begin{prop}
	We have the following results about $K(k)$:
	\begin{enumerate}
		\item $K(-k) = K(k)$
		\item $\lim_{k \to 0^+} K(k) = \frac{\pi}{2}$
		\item $K(ik) = \frac{1}{\sqrt{1+k^2}}K\pround{\frac{k}{\sqrt{1+k^2}}}$
		\item $K(i) = \frac{1}{4}B\pround{\frac{1}{4},\frac{1}{2}}$ ($B$ the beta function)
		\item $K^\prime(k) = K(k^\prime)$ where $k^\prime = \sqrt{1-k^2}$
		\item $K(k) = (1+k_1) K(k_1)$ for $k_1 = \frac{1-k^\prime}{1+k^\prime}$
		\item $K(k) = \frac{\pi}{2} \prod_{n=1}^\infty (1+k_n)$ for $k_{n+1} = \frac{1-k_n^\prime}{1+k_n^\prime}$
		\item 	$K(k)  = \frac{1}{1+k} K \pround{\frac{2\sqrt{k}}{1+k}}$ (Landen's Transformation)
	\end{enumerate}
\end{prop}
\begin{proof}
	We will complete the proof in parts:
	\begin{enumerate}
		\item Trivial 
		\item say something about convergence, and then $\int_0^1 \frac{dt}{\sqrt{1-t^2}} = \frac{\pi}{2}$ is a trig integral. 
		\item  consider the transform $	t \mapsto \frac{t}{\sqrt{1+k^3(1-t^2)}}$
		\item $K(i) = \int_0^1 \frac{dt}{\sqrt{1-t^4}} = \frac{1}{4} \int_0^1 t^{-\frac{3}{4}}(1-t)^{-\frac{1}{2}} \, dt$ making the substitution $t\mapsto t^\frac{1}{4}$.
		\item Use the substitution $s = \psquare{1-(k^\prime)^2 t^2}^{-\frac{1}{2}}$ to transform $K(k^\prime)$ to $K^\prime(k)$.
		\item do the calculation
		\item Iterate, observe $k_{n+1} < k_n$ (one can show $k_{n+1}<k_n^2$), and argue about convergence. 
		\item (Legendre 1811) Using the substitution $t \mapsto \frac{(1+k^\prime)x\sqrt{1-t^2}}{1-k^2 t^2}$ find $K(k_1) = \frac{1+k^\prime}{2}K(k)$ and the use Landen's transform.  
	\end{enumerate}
\end{proof}


These definitions of the complete integral make sense for the following result:

\begin{prop}
	The incomplete elliptic integral of the first kind has the following straight line segements for ranges:
	\eq{
		\psquare{0,1} &\mapsto [0,K]  & [-1,0] &\mapsto [-K,0] \\
		\psquare{1,\sfrac{1}{k}} &\mapsto [K,K+iK^\prime] & \psquare{-\sfrac{1}{k},1} &\mapsto \psquare{-K+iK^\prime,-K}\\
		\left[\sfrac{1}{k},\infty\right) &\mapsto [K+iK^\prime,iK^\prime)	& \left( -\infty, -\sfrac{1}{k}\right] &\mapsto (iK^\prime,-K+iK^\prime]
	}
\end{prop}

\begin{corollary}
	The image of the UHP under the elliptic integral of the first kind is the interior of the rectangle with corners $\pbrace{K,-K,K+iK^\prime, -K+iK^\prime}$, with the boundary of the rectangle being the image of the boundary of the UHP.
\end{corollary}

\begin{definition}
	The \bam{incomplete elliptic integral of the second kind} is the map $H\to \mbb{C}$ \eq{
		x \mapsto \int^x_0 \sqrt{\frac{1-k^2 t^2}{1-t^2}} dt 	
	}
	using the contour above branch points.
\end{definition}

\begin{definition}
	The \bam{complete elliptic integral of the first kind } is 
	\eq{
		E = E(k) = \int_0^1 \sqrt{\frac{1-k^2t^2}{1-t^2}}\, dt \in \mbb{R}
	}
	and the \bam{complementary integral of the first kind } is 
	\eq{
		E^\prime = E^\prime(k) =  \int_1^\frac{1}{k} \sqrt{\frac{1-k^2t^2}{t^2-1}}\, dt \in \mbb{R}
	}
\end{definition}

\begin{prop}
	We have the following results about $E(k)$:
	\begin{enumerate}
		\item $E^\prime(k) = K(k^\prime) - E(k^\prime)$
		\item (Legendre 1825) $K(k)E(k^\prime) + E(k)K(k^\prime) - K(k)K(k^\prime) = K^\prime(k)E(k) - K(k) E^\prime(k) = \frac{\pi}{2}$
	\end{enumerate}
\end{prop}
\begin{proof}
	The prove the first result use the substitution $x \mapsto k^{-1}\sqrt{1-(k^\prime)^2 x^2}$. \\
	The second result is is more involved. 
\end{proof}

We can also get identities between the complete integrals by considering the derivative wrt $k$.

\begin{prop}
	We have 
	\begin{itemize}
		\item $k^{-1}\frac{d}{dk} \psquare{k(1-k^2)\frac{d}{dk}K(k)}=K(k)$
		\item $k\frac{d}{dk}E(k) = E(k)-K(k)$
		\item $k(1-k^2)\frac{d}{dk} K(k) = E(k) -(1-k^2)K(k)$.
	\end{itemize}
\end{prop}
\begin{proof}
	We will prove just the final one. We start by noting 
	\eq{
		k^{-1} \frac{d}{dk} K(k) = \int_0^1 \frac{x^2 \, dx}{\sqrt{(1-x^2)(1-k^2x^2)^3}}
	}
	by simple differentiation under the integral. Then 
	\eq{
		0 &= \int_0^1 \psquare{\frac{d}{dx} \frac{x\sqrt{1-x^2}}{\sqrt{1-k^2 x^2}}} \, dx \\
		&= \int_0^1 \psquare{\frac{1-x^2}{\sqrt{(1-x^2)(1-k^2 x^2)}} - \frac{(1-k^2)x^2}{\sqrt{(1-x^2)(1-k^2 x^2)^3}}} \, dx \\
		\Rightarrow k^{-1}(1-k^2) \frac{d}{dk} K(k) &= k^{-2} \psquare{\int_0^1 \frac{1-k^2 x^2}{\sqrt{(1-x^2)(1-k^2x^2)}} dx +(k^2-1)\int_0^1\frac{1}{\sqrt{(1-x^2)(1-k^2x^2)}} dx } \\
		&= k^{-2}\psquare{E(k)-(1-k^2)K(k)}
	}
\end{proof}

\begin{definition}
	The \bam{incomplete elliptic integral of the third kind} is the map $H \to \mbb{C}$ 
	\eq{
		x \mapsto \int^x \frac{1}{(t^2-c^2)\sqrt{(1-t^2)(1-k^2t^2)}}	dt
	}
	using the contour above branch points. The corresponding complete integrals is 
	\eq{
		\Pi(\alpha^2,k) = \int_0^1 \frac{1}{(1-\alpha^2 t^2)\sqrt{(1-t^2)(1-k^2t^2)}}	dt
	}
	for $\alpha \in (-1,1)$. 
\end{definition}

\begin{prop}
	$\Pi(k^2,k) = \frac{E(k)}{1-k^2}$
\end{prop}
\begin{proof}
	This result requires differential identities. Note 
	\eq{
		0 &= \int_0^1 \psquare{\frac{d}{dx} \frac{x\sqrt{1-x^2}}{\sqrt{1-k^2 x^2}}} \, dx \\
		&= \int_0^1 \psquare{\frac{1-2x^2}{\sqrt{(1-x^2)(1-k^2 x^2)}} + \frac{k^2 x^2 \sqrt{1-x^2}}{\sqrt{(1-k^2 x^2)^3}}} \, dx \\
		\Rightarrow K(k) - \frac{2(K(k)-E(k))}{k^2} &= -k\frac{d}{dk} \psquare{\Pi(k^2,k) - k^{-1} \frac{d}{dk} K(k)}	
	}
	rearranging this to get a DE for $\Pi$ finds the result. 
\end{proof}

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\subsection{Reduction of Elliptic Integrals}

\begin{definition}
	If $R=R(x,y)$ is a rational function in $x,y$ and $y^2=Q(x)$ is a polynomial of degree $d=3,4$ with distinct roots then the integral
	\eq{
		\int R(x,y) \, dx	
	}
	is called a \bam{general elliptic integral}. 
\end{definition}

\begin{remark}
	Dealing with integrals such as the above when $d=1,2$ or there are repeated roots are treated in your earlier calculus classes, for example:
	\begin{itemize}
		\item $d=1$: write $y^2 = ax+b$ and make the substitution 
		\eq{
			x \mapsto \frac{1}{a}(x^2-b)	
		}
		\item $d=2$: write $y^2 = c(x-a)(x-b)$ and make the substitution 
		\eq{
			x \mapsto a = \frac{1}{4}(b-a) \pround{x - \frac{1}{x}}^2	
		}
	\end{itemize}
\end{remark}

\begin{remark}
	Depending on how the layout of this document ends up being, I may have a the section on Jacobi elliptic functions first. In this case, one would see that the incomplete integral of the first kind corresponds to the inverse of the function $\sn$. We could also generate integrals from the inverses of $\cn, \dn$. However from theory of elliptic functions, we know we can write the inverses of these in terms of $\sn^{-1}$, so transforms must exists for their corresponding integrals to reduce them to "known" forms. The same idea applies to the reduction of general elliptic integrals and we will see that now. 
\end{remark}

\begin{prop}
	A general elliptic integral can be written as 
	\eq{
		\int \psquare{y^{-1}R_1(x) + R_2(x)}\, dx 
	}	
\end{prop}
As a results of this, because any rational integral can be solved through partial fractions, in order to study general elliptic integrals we need know only how to deal with integrals of the form 
\eq{
	\int \frac{R(x)}{y} dx
}
Let us start to deal with these:
\subsubsection{\secmath{d=3}}
Write 
\eq{
	Q(x) = (x-e_0)(x-e_1)(x-e_2)
}
with $e_0,e_1,e_2$ distinct. Make the substitution 
\eq{
	x \mapsto x^2 + e_0
}
sending 
\eq{
	\frac{dx}{y} \mapsto \frac{2dx}{\sqrt{(x^2 + e_0 - e_1)(x^2 + e_0 - e_2)}}
}
The new $Q$ has roots $\pm \sqrt{e_1 - e_0}, \, \pm\sqrt{e_2 - e_0}$, so wlog we may take $d=4$.
\subsubsection{\secmath{d=4}}
We make now start procedurally:
\begin{enumerate}
	\item Write $Q(x) = (x-e_0)(x-e_1)(x-e_2)(x-e_3)$
	\item Send $e_0, \dots, e_3$ to $\pm1, \pm \frac{1}{k}$ using a fractional linear transform. This sends $Q(x) \mapsto (1-x^2)(1-k^2 x^2)$. This is possible if the cross ratio is 
	\eq{
		\frac{e_0 - e_1}{e_0 - e_3}\frac{e_2 - e_3}{e_2 - e_1} = \frac{4k}{(1+k)^2}
	}
	The distinctness of the $e$ means that the cross ratio is not $0,1,\infty$ and so $k \neq 0, \pm 1$. \hl{There is clearly a choice involved in k here, can it be shown that this choice does not matter, for example in simple cases?}
	\begin{remark}
		This value of the cross ratio can be calculated from the map that sends $-1 ,\frac{1}{k}, -\frac{1}{k} \mapsto 0,1,\infty$. This is the map 
		\eq{
			z \mapsto \frac{z+1}{z + \sfrac{1}{k}} \frac{\sfrac{2}{k}}{1+ \sfrac{1}{k}}	
		}
		This corresponds to mapping the roots as said above. We could consider a different way of mapping the roots, for example $e_0, e_1, e_2, e_3 \mapsto \frac{1}{k^\prime},-1,1,-\frac{1}{k^\prime}$. The symbol $k^\prime$ is used as the cross ratio for this change is now found from the map 
		\eq{
			z \mapsto \frac{z+1}{z+\sfrac{1}{k^\prime}} \frac{1+\sfrac{1}{k^\prime}}{2}
		}
		i.e. the cross ratio is 
		\eq{
			\frac{(1+k^\prime)^2}{4k^\prime}
		}
		We can relate $k^\prime$ to $k$ as 
	\end{remark}
	\item Write $R(x) = R_1(x^2) + xR_2(x^2)$ and note 
	\eq{
		\int \frac{xR_2(x^2)}{\sqrt{(1-x^2)(1-k^2x^2)}} dx  = \frac{1}{2} \int \frac{R_2(x^2)}{\sqrt{(1-x^2)(1-k^2x^2)}} d(x^2)
	}
	Hence this term reduces to previously solved cases ($d=2$). As such we are reduced to the case of
	\eq{
		\int \frac{R(x^2)}{y} dx
	}
	for $y^2 = (1-x^2)(1-k^2 x^2)$. 
	\item Use the identities 
	\eq{
		\frac{x^2-a}{x^2-b} &= 1 + \frac{b-a}{x^2-b} \\
		\frac{1}{(x^2-a)(x^2-b)} &= (a-b)^{-1}\pround{\frac{1}{x^2-a} - \frac{1}{x^2-b}}
	}
	to reduce to the classes of integrals
	\eq{
		I_n &= \int \frac{x^{2n}}{y} \, dx  \quad (n \geq 0) \\
		I_n^\prime &= \int \frac{(x^2-c^2)^n}{y} \, dx \quad (n < 0)
	}
	for $y^2 = (1-x^2)(1-k^2 x^2)$.
	\item Use relation 
	\eq{
		n I_{n-1} -\pround{n+\frac{1}{2}}(1+k^2)I_n + (n+1)k^2 I_{n+1} = x^{2n}y + \text{cst}
	}
	to reduce $I_n$ to $I_0$ and $I_1$. A similar technique can be applied to reduce $I_n^\prime$ to $I_{-1}^\prime$ and $I_0^\prime=I_0$. 
\end{enumerate}

\begin{idea}
	The irreducible incomplete integrals are those of the first, second, and third kind:
	\eq{
		I_0 &= \int \frac{1}{\sqrt{(1-x^2)(1-k^2x^2)}}	dx \\
		I_0 - k^2 I_1 &= \int \sqrt{\frac{1-k^2 x^2}{1-x^2}} dx \\
		I_{-1}^\prime &= \int \frac{1}{(x^2-c^2)\sqrt{(1-x^2)(1-k^2x^2)}}	dx
	}
\end{idea}

A lemma useful in the reduction is the following:
\begin{prop}
	Suppose the map sending $e_0, \dots, e_3 \mapsto \pm 1, \pm \frac{1}{k}$ is 
	\eq{
		f(z) = \frac{az+b}{cz+d}	
	}
	Then if we make the substitution $t = \frac{ax+b}{cx+d}$ we have 
	\eq{
		Q(x) = \prod(x-e_i) = \frac{(1-t^2)(1-k^2t^2)}{k^2(a-ct)^4 \prod (ce_i+d)^{-1}}
	}
	and 
	\eq{
		dx = \frac{ad-bc}{(a-ct)^2} dt 
	}
\end{prop}
\begin{proof}
	The inverse transform is 
	\eq{
		x = \frac{dt-b}{a-ct}	
	}
	so 
	\eq{
		x-e_i &= \frac{(dt-b) - e_i(a-ct)}{a-ct} \\
		&= \frac{(ce_i+d)t-(ae_i+b)}{a-ct} \\
		&= \frac{t - f(e_i)}{(a-ct)(ce_i+d)^{-1}}
	}
	The first part then follows by taking the product and knowing that the $f(e_i)$ are the roots of $(1-x^2)(1-k^2x^2)$, and mathching up the coefficient of $t^4$. For the second part we directly calculate. 
	\eq{
		dx &= \frac{d }{a-ct}(dt) +  \frac{dt-b}{(a-ct)^2}c(dt) \\
		&= \frac{ad-bc}{(a-ct)^2} \, (dt)
	}
\end{proof}

\begin{corollary}
	We have
	\eq{
		\int \frac{dx}{\sqrt{(x-e_0)(x-e_1)(x-e_2)(x-e_3)}}= \pm \frac{k(ad-bc)}{\prod \sqrt{ce_i + d}} \int \frac{dt}{\sqrt{(1-t^2)(1-k^2t^2)}}	
	}
	where the $\pm$ fixes the correct choice of sign. 
\end{corollary}

\begin{lemma}
	The map sending $-1,\frac{1}{k},-\frac{1}{k} \mapsto 0,1,\infty$ is 
	\eq{
		z \mapsto \frac{2k}{1+k} \frac{1+z}{1+kz}	
	} 
	and the inverse is 
	\eq{
		z \mapsto \frac{1}{k}\frac{(1+k)z-2k}{-(1+k)z+2}
	}
\end{lemma}
\begin{remark}
	\hl{The above map isn't normalised yet, so fix it}
\end{remark}

\begin{example}
	Consider the integral 
	\eq{
		I = \int_0^2 \frac{1}{\sqrt{(2x-x^2)(4x^2+9)}} dx	
	}
	We start by making $Q$ monic by pulling out the factor of $2$. This gives 
	\eq{
		I = \frac{1}{2}\int_0^2 \frac{1}{\sqrt{(2x-x^2)(x^2+\sfrac{9}{4})}} dx	
	}
	As such we have $Q(x) = -x(x-2)(x-\sfrac{3i}{2})(x+\sfrac{3i}{2})$. We can  calculate the cross ratio for sending $0 \mapsto C, 2 \mapsto 0, \frac{3i}{2} \mapsto 1, \frac{-3i}{2}\mapsto \infty$:
	\eq{
		C = \frac{0-2}{0+\sfrac{3i}{2}}\frac{\sfrac{3i}{2}+\sfrac{3i}{2}}{\sfrac{3i}{2}-2} = \frac{-4}{\sfrac{3i}{2}-2} = \frac{2i}{\sfrac{3}{4}+i}
	}
	This corresponds to a value of $k=\frac{i}{2}$. We want to construct a map sending $0,2,\frac{3i}{2},-\frac{3i}{2} \mapsto 1,-1,\frac{1}{k}, -\frac{1}{k}$ so we consider 
	\eq{
		z \mapsto \frac{z+b}{cz+d}
	}
	Imposing the conditions finds $b=d=-(1+c) = -\frac{3}{4}$. We can, without changing our answer, rescale all of these to integers (namely $a=4, b=-3, c=-1, d=-3$) to make the calculations easier. For this transform we find $ad-bc=-15$. Further
	\eq{
		- 0 -3&= -3 \\
		- 2 -3&= - 5 \\
		-\frac{3i}{2} -3&= -\pround{3 + \frac{3i}{2}}\\
		- \frac{-3i}{2} -3&= -\pround{3 - \frac{3i}{2}}
	} 
	giving 
	\eq{
		\prod (ce_i + d)^{-\frac{1}{2}} = \frac{2}{15\sqrt{3}}
	}
	so after the transform 
	\eq{
		I = \frac{-15i}{4}\times \frac{2}{15\sqrt{3}} \int_1^{-1} \frac{dt}{\sqrt{-(1-t^2)(1-k^2t^2)}} = \frac{1}{\sqrt{3}}K\pround{\frac{i}{2}}
	}
	for $k=\frac{i}{2}$. Using 
	\eq{
		K(ik) &= \frac{1}{\sqrt{1+k^2}} K\pround{\frac{k}{\sqrt{1+k^2}}} \\
		\Rightarrow K\pround{\frac{i}{2}} &= \frac{2}{\sqrt{5}} K \pround{\frac{1}{\sqrt{5}}}
	}
	we get 
	\eq{
		I = \int_0^2 \frac{1}{\sqrt{(2x-x^2)(4x^2+9)}} dx = \frac{2}{\sqrt{15}}K\pround{\frac{1}{\sqrt{5}}}
	}
\end{example}

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\subsection{Connection to Elliptic Functions}

Recall that when we defined the incomplete elliptic integrals,

Because of the differential equation for $\wp$ we have the following result:

\begin{prop}
	We have 
	\eq{
		z-z_0 = \frac{1}{2} \int_{\wp(z_0)}^{\wp(z)} \frac{dt}{\sqrt{(t-e_1)(t-e_2)(t-e_3)}} \quad \mod L
	}
	where the each value of the integral depends on the contour chosen. 
\end{prop}

\begin{example}
	Choosing the correct sign of the radicals, we have 
	\eq{
		\omega_1 &= \int_{\infty}^{e_1} \frac{dt}{\sqrt{(t-e_1)(t-e_2)(t-e_3)}} \\
		\omega_2 &= \int_{e_1}^{e_2} \frac{dt}{\sqrt{(t-e_1)(t-e_2)(t-e_3)}}
	}
\end{example}

We can also use the Weierstrass function to solve elliptic integrals.

\begin{example}
	Consider the integral 
	\eq{
		I(x) = \int_{\infty}^x \frac{dt}{\sqrt{t^4 + 6at^2 + b^2}}	
	}
	for $a,b \in \mbb{R}$. Make the substitution $s=t^2$ to get 
	\eq{
		I(x) = \frac{1}{2} \int_{\infty}^{x^2} \frac{ds}{\sqrt{s^3+ 6as^2 + b^2 s }} 
	}
	To put this bottom cubic in Weierstrass form we need to remove the $s^2$ term, which can be achieved by making the translation $u = s+2a$. Then 
	\eq{
		I(x) &= \frac{1}{2}\int_{\infty}^{x^2+2a} \frac{du}{\sqrt{u^3 - (12a^2-b^2)u - 2a(b^2-8a^2)}} \\
		&= \int_{\infty}^{x^2+2a} \frac{du}{\sqrt{4u^3 - 4(12a^2-b^2)u - 8a(b^2-8a^2)}}
	}
	This is in Weierstrass form with $g_2 = 4(12a^2-b^2), \, g_3 = 8a(b^2-8a^2)$. The final result is 
	\eq{
		I(x) =  \wp^{-1}(x^2+2a \, | \, 4(12a^2-b^2), \, 8a(b^2-8a^2))
	} 
	
\end{example}

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\section{Abel's Inversion Theorem}

We start by noting to following connection, a complex torus $X = \faktor{\mbb{C}}{L}$ with $e_1, e_2. e_3$ given, has the behaviour 
\eq{
	[\wp^\prime]^2 = 4(\wp-e_1)(\wp-e_2)(\wp-e_3)
}
in it's function field. 


%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\bibliographystyle{../../bib/custom-bib-style}
\bibliography{../../bib/jabref_library.bib}

\end{document}
